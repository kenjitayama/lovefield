/*
  Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
(function(){'use strict';var aa=Object,ba=Math,ca=window,da=parseInt,ea=document,e=Array,fa=Error,ga=JSON,ha=String;function ia(a,b){return a.table=b}function ja(a,b){return a.name=b}function ka(a,b){return a.dump=b}function la(a,b){return a.clone=b}function ma(a,b){return a.exec=b}function na(a,b){return a.getName=b}function oa(a,b){return a.close=b}function pa(a,b){return a.value=b}function qa(a,b){return a.update=b}function ra(a,b){return a.delete=b}function sa(a,b){return a.onsuccess=b}
function ta(a,b){return a.clear=b}function ua(a,b){return a.values=b}function va(a,b){return a.remove=b}function xa(a,b){return a.child=b}function ya(a,b){return a.next=b}function za(a,b){return a.onerror=b}function Aa(a,b){return a.length=b}function f(a,b){return a.toString=b}function Ba(a,b){return a.bind=b}function Ca(a,b){return a.subscribe=b}function Da(a,b){return a.forEach=b}function Ea(a,b){return a.getPriority=b}
var Fa="openCursor",Ga="filter",Ha="once",Ia="objectStoreNames",Ja="split",h="table",Ka="reduce",La="join",Ma="reject",Na="timing",Oa="item",m="slice",Pa="target",n="name",q="call",r="prototype",Qa="exec",t="getName",Ra="close",Sa="concat",u="value",Ta="setImmediate",Ua="every",Va="update",Wa="global",Xa="propertyIsEnumerable",Ya="delete",Za="sort",$a="indexOf",ab="some",bb="count",cb="orderByChild",v="clear",db="values",eb="replace",fb="reverse",gb="continue",hb="addAll",ib="removeChild",w="remove",
jb="child",kb="create",x="push",z="then",lb="transaction",mb="index",nb="context",A="splice",ob="autoIncrement",pb="next",rb="shift",sb="hasOwnProperty",tb="contains",ub="version",vb="objectStore",wb="offset",xb="apply",yb="stringify",B="entries",C="length",zb="info",D="toString",Ab="compare",E="bind",Bb="getParent",Cb="rows",F="forEach",Db="getPriority",Eb="getTime",Fb="resolve",Gb="result",Hb="size";function Ib(){return function(){}}function Jb(a){return function(b){this[a]=b}}
function G(a){return function(){return this[a]}}function Kb(a){return function(){return a}}var H,Lb=this;function Mb(a){return void 0!==a}function I(a,b,c){a=a[Ja](".");c=c||Lb;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a[C]&&(d=a[rb]());)!a[C]&&Mb(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function Nb(){}function Ob(a){a.He=function(){return a.rg?a.rg:a.rg=new a}}
function Pb(a){var b=typeof a;if("object"==b)if(a){if(a instanceof e)return"array";if(a instanceof aa)return b;var c=aa[r][D][q](a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a[C]&&"undefined"!=typeof a[A]&&"undefined"!=typeof a[Xa]&&!a[Xa]("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a[q]&&"undefined"!=typeof a[Xa]&&!a[Xa]("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a[q])return"object";return b}
function Qb(a){return null===a}function Rb(a){return null!=a}function Sb(a){var b=Pb(a);return"array"==b||"object"==b&&"number"==typeof a[C]}function Tb(a){return"string"==typeof a}function Ub(a){return"function"==Pb(a)}function Vb(a){return a[Wb]||(a[Wb]=++Xb)}var Wb="closure_uid_"+(1E9*ba.random()>>>0),Xb=0;function Yb(a,b,c){return a[q][xb](a[E],arguments)}
function Zb(a,b,c){if(!a)throw fa();if(2<arguments[C]){var d=e[r][m][q](arguments,2);return function(){var c=e[r][m][q](arguments);e[r].unshift[xb](c,d);return a[xb](b,c)}}return function(){return a[xb](b,arguments)}}function J(a,b,c){J=Function[r][E]&&-1!=Function[r][E][D]()[$a]("native code")?Yb:Zb;return J[xb](null,arguments)}function $b(a,b){var c=e[r][m][q](arguments,1);return function(){var b=c[m]();b[x][xb](b,arguments);return a[xb](this,b)}}
function K(a,b){function c(){}c.prototype=b[r];a.Pb=b[r];a.prototype=new c;a[r].constructor=a;a.Bl=function(a,c,k){for(var l=e(arguments[C]-2),p=2;p<arguments[C];p++)l[p-2]=arguments[p];return b[r][c][xb](a,l)}};function ac(a){if(fa.captureStackTrace)fa.captureStackTrace(this,ac);else{var b=fa().stack;b&&(this.stack=b)}a&&(this.message=ha(a))}K(ac,fa);ja(ac[r],"CustomError");function bc(a,b){for(var c=a[Ja]("%s"),d="",g=e[r][m][q](arguments,1);g[C]&&1<c[C];)d+=c[rb]()+g[rb]();return d+c[La]("%s")};function cc(a,b){b.unshift(a);ac[q](this,bc[xb](null,b));b[rb]()}K(cc,ac);ja(cc[r],"AssertionError");function dc(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),k=d;else a&&(g+=": "+a,k=b);throw new cc(""+g,k||[]);}function L(a,b,c){a||dc("",null,b,e[r][m][q](arguments,2));return a}function ec(a,b){throw new cc("Failure"+(a?": "+a:""),e[r][m][q](arguments,1));}function fc(a,b,c){Ub(a)||dc("Expected function but got %s: %s.",[Pb(a),a],b,e[r][m][q](arguments,2));return a};function gc(a,b,c){this.tk=c;this.Fi=a;this.bl=b;this.$d=0;this.Ud=null}gc[r].get=function(){var a;0<this.$d?(this.$d--,a=this.Ud,this.Ud=a[pb],ya(a,null)):a=this.Fi();return a};gc[r].put=function(a){this.bl(a);this.$d<this.tk&&(this.$d++,ya(a,this.Ud),this.Ud=a)};var hc=e[r],ic=hc[$a]?function(a,b,c){L(null!=a[C]);return hc[$a][q](a,b,c)}:function(a,b,c){c=null==c?0:0>c?ba.max(0,a[C]+c):c;if(Tb(a))return Tb(b)&&1==b[C]?a[$a](b,c):-1;for(;c<a[C];c++)if(c in a&&a[c]===b)return c;return-1},jc=hc[F]?function(a,b,c){L(null!=a[C]);hc[F][q](a,b,c)}:function(a,b,c){for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)k in g&&b[q](c,g[k],k,a)},kc=hc.map?function(a,b,c){L(null!=a[C]);return hc.map[q](a,b,c)}:function(a,b,c){for(var d=a[C],g=e(d),k=Tb(a)?a[Ja](""):a,l=0;l<
d;l++)l in k&&(g[l]=b[q](c,k[l],l,a));return g},lc=hc[Ka]?function(a,b,c,d){L(null!=a[C]);d&&(b=J(b,d));return hc[Ka][q](a,b,c)}:function(a,b,c,d){var g=c;jc(a,function(c,l){g=b[q](d,g,c,l,a)});return g},mc=hc[ab]?function(a,b,c){L(null!=a[C]);return hc[ab][q](a,b,c)}:function(a,b,c){for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[q](c,g[k],k,a))return!0;return!1},nc=hc[Ua]?function(a,b,c){L(null!=a[C]);return hc[Ua][q](a,b,c)}:function(a,b,c){for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<
d;k++)if(k in g&&!b[q](c,g[k],k,a))return!1;return!0};function oc(a,b){L(null!=a[C]);return 1==hc[A][q](a,b,1)[C]}function pc(a,b,c){a:{for(var d=a[C],g=Tb(a)?a[Ja](""):a,k=0;k<d;k++)if(k in g&&b[q](c,g[k],k,a)){b=k;break a}b=-1}return 0<=b?(oc(a,b),!0):!1}function qc(a){var b=a[C];if(0<b){for(var c=e(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function rc(a,b){for(var c=1;c<arguments[C];c++){var d=arguments[c];if(Sb(d)){var g=a[C]||0,k=d[C]||0;Aa(a,g+k);for(var l=0;l<k;l++)a[g+l]=d[l]}else a[x](d)}}function sc(a,b,c,d){L(null!=a[C]);return hc[A][xb](a,tc(arguments,1))}function tc(a,b,c){L(null!=a[C]);return 2>=arguments[C]?hc[m][q](a,b):hc[m][q](a,b,c)}function uc(a,b,c,d,g){for(var k=0,l=a[C],p;k<l;){var y=k+l>>1,wa;wa=c?b[q](g,a[y],y,a):b(d,a[y]);0<wa?k=y+1:(l=y,p=!wa)}return p?k:~k}function vc(a,b){return a>b?1:a<b?-1:0}
function wc(a,b,c){c=uc(a,c||vc,!1,b);return 0>c?(sc(a,-(c+1),0,b),!0):!1}function xc(a,b){for(var c=[],d=0;d<b;d++)c[d]=a;return c}function yc(a){for(var b=[],c=0;c<arguments[C];c++){var d=arguments[c];if("array"==Pb(d))for(var g=0;g<d[C];g+=8192)for(var k=tc(d,g,g+8192),k=yc[xb](null,k),l=0;l<k[C];l++)b[x](k[l]);else b[x](d)}return b};function zc(a,b,c){for(var d in a)b[q](c,a[d],d,a)}function Ac(a,b,c){for(var d in a)if(b[q](c,a[d],d,a))return!0;return!1}function Bc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Cc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b};var Ec;a:{var Fc=Lb.navigator;if(Fc){var Gc=Fc.userAgent;if(Gc){Ec=Gc;break a}}Ec=""};function Hc(a){Lb.setTimeout(function(){throw a;},0)}var Ic;
function Jc(){var a=Lb.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof ca&&ca.postMessage&&ca.addEventListener&&-1==Ec[$a]("Presto")&&(a=function(){var a=ea.createElement("IFRAME");a.style.display="none";a.src="";ea.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a[Ra]();var c="callImmediate"+ba.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=J(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==Ec[$a]("Trident")&&-1==Ec[$a]("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(Mb(c[pb])){c=c[pb];var a=c.Jf;c.Jf=null;a()}};return function(a){ya(d,{Jf:a});d=d[pb];b.port2.postMessage(0)}}return"undefined"!==typeof ea&&"onreadystatechange"in ea.createElement("SCRIPT")?function(a){var b=ea.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode[ib](b);b=null;a();a=null};ea.documentElement.appendChild(b)}:function(a){Lb.setTimeout(a,0)}};function Kc(){this.le=this.kc=null}var Mc=new gc(function(){return new Lc},function(a){a.reset()},100);Kc[r].add=function(a,b){var c=this.Vj();c.set(a,b);this.le?ya(this.le,c):(L(!this.kc),this.kc=c);this.le=c};va(Kc[r],function(){var a=null;this.kc&&(a=this.kc,this.kc=this.kc[pb],this.kc||(this.le=null),ya(a,null));return a});Kc[r].cl=function(a){Mc.put(a)};Kc[r].Vj=function(){return Mc.get()};function Lc(){this.scope=this.De=null;ya(this,null)}
Lc[r].set=function(a,b){this.De=a;this.scope=b;ya(this,null)};Lc[r].reset=function(){this.scope=this.De=null;ya(this,null)};function Nc(a,b){Oc||Pc();Qc||(Oc(),Qc=!0);Rc.add(a,b)}var Oc;function Pc(){if(Lb.Promise&&Lb.Promise[Fb]){var a=Lb.Promise[Fb]();Oc=function(){a[z](Sc)}}else Oc=function(){var a=Sc;if(!Ub(Lb[Ta])||Lb.Window&&Lb.Window[r]&&Lb.Window[r][Ta]==Lb[Ta])Ic||(Ic=Jc()),Ic(a);else Lb[Ta](a)}}var Qc=!1,Rc=new Kc;[][x](function(){Qc=!1;Rc=new Kc});function Sc(){for(var a=null;a=Rc[w]();){try{a.De[q](a.scope)}catch(b){Hc(b)}Rc.cl(a)}Qc=!1};function M(a,b){this.La=0;this.bh=void 0;this.yd=this.pc=this.G=null;this.Td=this.Ce=!1;if(a!=Nb)try{var c=this;a[q](b,function(a){c.Bc(2,a)},function(a){if(!(a instanceof Tc))try{if(a instanceof fa)throw a;throw fa("Promise rejected.");}catch(b){}c.Bc(3,a)})}catch(d){this.Bc(3,d)}}function Uc(){xa(this,null);this.context=this.yc=this.ac=null;ya(this,null);this.oe=!1}Uc[r].reset=function(){xa(this,null);this.context=this.yc=this.ac=null;this.oe=!1};
var Vc=new gc(function(){return new Uc},function(a){a.reset()},100);function Wc(a,b,c){var d=Vc.get();d.ac=a;d.yc=b;d.context=c;return d}function Xc(a){if(a instanceof M)return a;var b=new M(Nb);b.Bc(2,a);return b}function Yc(a){return new M(function(b,c){c(a)})}function Zc(a,b,c){$c(a,b,c,null)||Nc($b(b,a))}function ad(a){return new M(function(b,c){var d=a[C],g=[];if(d)for(var k=function(a,c){d--;g[a]=c;0==d&&b(g)},l=function(a){c(a)},p=0,y;p<a[C];p++)y=a[p],Zc(y,$b(k,p),l);else b(g)})}
function bd(){var a,b,c=new M(function(c,g){a=c;b=g});return new cd(c,a,b)}M[r].then=function(a,b,c){null!=a&&fc(a,"opt_onFulfilled should be a function.");null!=b&&fc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");return this.Af(Ub(a)?a:null,Ub(b)?b:null,c)};M[r].then=M[r][z];M[r].$goog_Thenable=!0;H=M[r];
H.pl=function(a,b,c){null!=a&&fc(a,"opt_onFulfilled should be a function.");null!=b&&fc(b,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?");this.zf(Wc(a||Nb,b||null,c))};H.ph=function(a,b){return this.Af(null,a,b)};H.zf=function(a){this.ek()||2!=this.La&&3!=this.La||this.fh();this.Sk(a)};
H.Af=function(a,b,c){var d=Wc(null,null,null);xa(d,new M(function(g,k){d.ac=a?function(b){try{var d=a[q](c,b);g(d)}catch(y){k(y)}}:g;d.yc=b?function(a){try{var d=b[q](c,a);!Mb(d)&&a instanceof Tc?k(a):g(d)}catch(y){k(y)}}:k}));d[jb].G=this;this.zf(d);return d[jb]};H.sl=function(a){L(1==this.La);this.La=0;this.Bc(2,a)};H.tl=function(a){L(1==this.La);this.La=0;this.Bc(3,a)};
H.Bc=function(a,b){0==this.La&&(this==b&&(a=3,b=new TypeError("Promise cannot resolve to itself")),this.La=1,$c(b,this.sl,this.tl,this)||(this.bh=b,this.La=a,this.G=null,this.fh(),3!=a||b instanceof Tc||dd(this,b)))};
function $c(a,b,c,d){if(a instanceof M)return a.pl(b,c,d),!0;var g;if(a)try{g=!!a.$goog_Thenable}catch(k){g=!1}else g=!1;if(g)return a[z](b,c,d),!0;g=typeof a;if("object"==g&&null!=a||"function"==g)try{var l=a[z];if(Ub(l))return ed(a,l,b,c,d),!0}catch(p){return c[q](d,p),!0}return!1}function ed(a,b,c,d,g){function k(a){p||(p=!0,d[q](g,a))}function l(a){p||(p=!0,c[q](g,a))}var p=!1;try{b[q](a,l,k)}catch(y){k(y)}}H.fh=function(){this.Ce||(this.Ce=!0,Nc(this.$i,this))};H.ek=function(){return!!this.pc};
H.Sk=function(a){L(null!=a.ac);this.yd?ya(this.yd,a):this.pc=a;this.yd=a};H.Mk=function(){var a=null;this.pc&&(a=this.pc,this.pc=a[pb],ya(a,null));this.pc||(this.yd=null);null!=a&&L(null!=a.ac);return a};H.$i=function(){for(var a=null;a=this.Mk();)this.Zi(a,this.La,this.bh);this.Ce=!1};H.Zi=function(a,b,c){3==b&&a.yc&&!a.oe&&this.$k();if(a[jb])a[jb].G=null,fd(a,b,c);else try{a.oe?a.ac[q](a[nb]):fd(a,b,c)}catch(d){gd[q](null,d)}Vc.put(a)};
function fd(a,b,c){2==b?a.ac[q](a[nb],c):a.yc&&a.yc[q](a[nb],c)}H.Fh=Ib();H.$k=function(){var a;for(a=this;a&&a.Td;a=a.G)a.Td=!1};function dd(a,b){a.Td=!0;Nc(function(){a.Td&&(a.Fh(b),gd[q](null,b))})}var gd=Hc;function Tc(a){ac[q](this,a)}K(Tc,ac);ja(Tc[r],"cancel");function cd(a,b,c){this.ka=a;this.resolve=b;this.reject=c};
function hd(a,b){this.Aa=a;this.cc=b||this.Vf()}var id=0;H=hd[r];H.id=G("Aa");H.Oh=Jb("Aa");H.w=G("cc");H.Vf=function(){return{}};H.qh=G("cc");H.Ka=function(){return{id:this.Aa,value:this.qh()}};H.Zb=function(a){return"#"==a.substr(-1)?this.Aa:null};function jd(a){return new hd(a.id,a[u])}function kd(a){return new hd(id++,a||{})}function ld(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a[C];++c)var d=a[c][D](16),b=b+(2>d[C]?"0"+d:d);return b};
function md(a){this.type=a}function nd(a){hd[q](this,-1,a)}K(nd,hd);
var od={};I("lf.TransactionType",od,void 0);od.READ_ONLY=0;od.READ_WRITE=1;

function pd(a,b){this.Xa=a;this.rh=b;this.ca=bd()}H=pd[r];H.Ej=G("Xa");H.pa=function(){try{this.Xa.ai()}catch(a){return Yc(a)}return(0==this.rh?this.Lc():this.yk())[z](J(function(a){this.Xa.pa();return a},this))};H.yk=function(){this.zk();this.xk();return this.Lc()};
H.zk=function(){var a=this.Xa.eg();a.U()[F](function(b){var c=this.Xa.ha().get(b),c=this.M(c[t](),J(c.sc,c));b=a.get(b);var d=b.Wc().f().map(function(a){return a.id()});0<d[C]&&c[w](d).ph(this.Ne,this);b=b.Yc().f().map(function(a){return a[1]})[Sa](b.Uc().f());c.put(b).ph(this.Ne,this)},this)};H.xk=function(){this.Xa.Bj()[F](function(a){var b=this.M(a[t](),jd),c;b.get([-1])[z](function(a){c=a;return b[w]([])})[z](function(){b.put(c);b.put(a.Ka())},J(this.Ne,this))},this)};H.Ne=function(a){this.ca[Ma](a)};function qd(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var g=a[C],k=b[C],l=[],p=0;p<g+1;p++)l[p]=[],l[p][0]=0;for(var y=0;y<k+1;y++)l[0][y]=0;for(p=1;p<=g;p++)for(y=1;y<=k;y++)c(a[p-1],b[y-1])?l[p][y]=l[p-1][y-1]+1:l[p][y]=ba.max(l[p-1][y],l[p][y-1]);for(var wa=[],p=g,y=k;0<p&&0<y;)c(a[p-1],b[y-1])?(wa.unshift(d(p-1,y-1)),p--,y--):l[p-1][y]>l[p][y-1]?p--:y--;return wa}function rd(a){return lc(arguments,function(a,c){return a+c},0)}
function sd(a){return rd[xb](null,arguments)/arguments[C]}function td(a){var b=arguments[C];if(2>b)return 0;var c=sd[xb](null,arguments);return rd[xb](null,kc(arguments,function(a){return ba.pow(a-c,2)}))/(b-1)}function ud(a){return ba.sqrt(td[xb](null,arguments))};var vd="StopIteration"in Lb?Lb.StopIteration:{message:"StopIteration",stack:""};function wd(){}ya(wd[r],function(){throw vd;});wd[r].Dc=function(){return this};function xd(a){if(a instanceof wd)return a;if("function"==typeof a.Dc)return a.Dc(!1);if(Sb(a)){var b=0,c=new wd;ya(c,function(){for(;;){if(b>=a[C])throw vd;if(b in a)return a[b++];b++}});return c}throw fa("Not implemented");}
function yd(a,b,c){if(Sb(a))try{jc(a,b,c)}catch(d){if(d!==vd)throw d;}else{a=xd(a);try{for(;;)b[q](c,a[pb](),void 0,a)}catch(g){if(g!==vd)throw g;}}}function zd(a){if(mc(arguments,function(a){return!a[C]})||!arguments[C])return new wd;var b=new wd,c=arguments,d=xc(0,c[C]);ya(b,function(){if(d){for(var a=kc(d,function(a,b){return c[b][a]}),b=d[C]-1;0<=b;b--){L(d);if(d[b]<c[b][C]-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw vd;});return b};function N(a,b){this.g={};this.b=[];this.Ta=this.aa=0;var c=arguments[C];if(1<c){if(c%2)throw fa("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this[hb](a)}H=N[r];H.ya=G("aa");H.f=function(){this.Jc();for(var a=[],b=0;b<this.b[C];b++)a[x](this.g[this.b[b]]);return a};H.U=function(){this.Jc();return this.b[Sa]()};H.C=function(a){return Ad(this.g,a)};H.Cd=function(a){for(var b=0;b<this.b[C];b++){var c=this.b[b];if(Ad(this.g,c)&&this.g[c]==a)return!0}return!1};
H.Qc=function(a,b){if(this===a)return!0;if(this.aa!=a.ya())return!1;var c=b||Bd;this.Jc();for(var d,g=0;d=this.b[g];g++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Bd(a,b){return a===b}H.Wa=function(){return 0==this.aa};ta(H,function(){this.g={};Aa(this.b,0);this.Ta=this.aa=0});va(H,function(a){return Ad(this.g,a)?(delete this.g[a],this.aa--,this.Ta++,this.b[C]>2*this.aa&&this.Jc(),!0):!1});
H.Jc=function(){if(this.aa!=this.b[C]){for(var a=0,b=0;a<this.b[C];){var c=this.b[a];Ad(this.g,c)&&(this.b[b++]=c);a++}Aa(this.b,b)}if(this.aa!=this.b[C]){for(var d={},b=a=0;a<this.b[C];)c=this.b[a],Ad(d,c)||(this.b[b++]=c,d[c]=1),a++;Aa(this.b,b)}};H.get=function(a,b){return Ad(this.g,a)?this.g[a]:b};H.set=function(a,b){Ad(this.g,a)||(this.aa++,this.b[x](a),this.Ta++);this.g[a]=b};H.addAll=function(a){var b;a instanceof N?(b=a.U(),a=a.f()):(b=Cc(a),a=Bc(a));for(var c=0;c<b[C];c++)this.set(b[c],a[c])};
Da(H,function(a,b){for(var c=this.U(),d=0;d<c[C];d++){var g=c[d],k=this.get(g);a[q](b,k,g,this)}});la(H,function(){return new N(this)});H.Dc=function(a){this.Jc();var b=0,c=this.Ta,d=this,g=new wd;ya(g,function(){if(c!=d.Ta)throw fa("The map has changed since the iterator was created");if(b>=d.b[C])throw vd;var g=d.b[b++];return a?g:d.g[g]});return g};function Ad(a,b){return aa[r][sb][q](a,b)};
function Cd(){this.g=new N;aa.defineProperty(this,"size",{get:function(){return this.g.ya()}})}ta(Cd[r],function(){this.g[v]()});ta(Cd[r],Cd[r][v]);ra(Cd[r],function(a){return this.g[w](a)});Cd[r]["delete"]=Cd[r][Ya];Da(Cd[r],function(a,b){return this.g[F](a,b)});Da(Cd[r],Cd[r][F]);Cd[r].get=function(a){return this.g.get(a)};Cd[r].get=Cd[r].get;Cd[r].has=function(a){return this.g.C(a)};Cd[r].has=Cd[r].has;Cd[r].set=function(a,b){return this.g.set(a,b)};Cd[r].set=Cd[r].set;
var Dd=ca.Map&&ca.Map[r][db]&&ca.Map[r][F]?ca.Map:Cd;function Ed(a){if(a instanceof Cd)return a.g.U();var b=0,c=e(a[Hb]);a[F](function(a,g){c[b++]=g});return c}function Fd(a){if(a instanceof Cd)return a.g.f();var b=0,c=e(a[Hb]);a[F](function(a){c[b++]=a});return c};
function Gd(a){this.dl=a}f(Gd[r],G("dl"));var Hd=new Gd("backstore"),Id=new Gd("cache"),Jd=new Gd("indexstore"),Kd=new Gd("engine"),Ld=new Gd("runner"),Md=new Gd("observerregistry"),Nd=new Gd("schema");
function Od(a){if("function"==typeof a.ya)a=a.ya();else if(Sb(a)||Tb(a))a=a[C];else{var b=0,c;for(c in a)b++;a=b}return a}function Pd(a){if("function"==typeof a.f)return a.f();if(Tb(a))return a[Ja]("");if(Sb(a)){for(var b=[],c=a[C],d=0;d<c;d++)b[x](a[d]);return b}return Bc(a)}
function Qd(a,b,c){if("function"==typeof a[Ua])return a[Ua](b,c);if(Sb(a)||Tb(a))return nc(a,b,c);var d;if("function"==typeof a.U)d=a.U();else if("function"!=typeof a.f)if(Sb(a)||Tb(a)){d=[];for(var g=a[C],k=0;k<g;k++)d[x](k)}else d=Cc(a);else d=void 0;for(var g=Pd(a),k=g[C],l=0;l<k;l++)if(!b[q](c,g[l],d&&d[l],a))return!1;return!0};function O(a){this.g=new N;a&&this[hb](a)}function Rd(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Vb(a):b.substr(0,1)+a}H=O[r];H.ya=function(){return this.g.ya()};H.add=function(a){this.g.set(Rd(a),a)};H.addAll=function(a){a=Pd(a);for(var b=a[C],c=0;c<b;c++)this.add(a[c])};va(H,function(a){return this.g[w](Rd(a))});ta(H,function(){this.g[v]()});H.Wa=function(){return this.g.Wa()};H.contains=function(a){return this.g.C(Rd(a))};H.xi=function(a){return Qd(a,this[tb],this)};H.f=function(){return this.g.f()};
la(H,function(){return new O(this)});H.Qc=function(a){return this.ya()==Od(a)&&this.qk(a)};H.qk=function(a){var b=Od(a);if(this.ya()>b)return!1;!(a instanceof O)&&5<b&&(a=new O(a));return Qd(this,function(b){var d=a;if("function"==typeof d[tb])b=d[tb](b);else if("function"==typeof d.Cd)b=d.Cd(b);else if(Sb(d)||Tb(d))b=0<=ic(d,b);else a:{for(var g in d)if(d[g]==b){b=!0;break a}b=!1}return b})};H.Dc=function(){return this.g.Dc(!1)};
function Sd(a,b){this.Aa=a;this.cc=b||{}}function Td(a){var b=new O;a[F](function(a){b.add(a>>9)});return b.f()}H=Sd[r];H.fa=G("Aa");H.xc=G("cc");H.jh=function(a){a[F](function(a){this.cc[a.id()]=a.Ka()},this)};H.Zk=function(a){a[F](function(a){var c=this.cc;a in c&&delete c[a]},this)};H.Ka=function(){return{id:this.Aa,value:ga[yb](this.cc)}};function Ud(a){return new Sd(a.id,ga.parse(a[u]))};

function Vd(a,b,c){this.W=a;this.Ub=b;this.dh=c}H=Vd[r];H.get=function(a){return 0==a[C]?this.Vc():this.Ij(a)[z](J(function(b){return a.map(function(a){var d=b.get(a>>9);L(d,"Containing page is empty");return this.Ub(d.xc()[a])},this)},this))};H.Ij=function(a){var b=new Dd,c=bd();a=Td(a).map(function(a){return new M(function(c,k){var l;try{l=this.W.get(a)}catch(p){k(p);return}za(l,k);sa(l,J(function(a){a=Ud(a[Pa][Gb]);b.set(a.fa(),a);c()},this))},this)},this);ad(a)[z](function(){c[Fb](b)});return c.ka};
H.Vc=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);sa(d,J(function(){var b=d[Gb];if(b){var g=Ud(b[u]).xc(),p;for(p in g)c[x](this.Ub(g[p]));b[gb]()}else a(c)},this))},this)};H.dc=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};
H.put=function(a){if(0==a[C])return Xc();var b=new Dd;a[F](function(a){var d;d=a.id()>>9;var g=b.get(d)||null;null===g&&(g=this.dh(this.W[n],d));g.jh([a]);b.set(d,g)},this);a=Fd(b).map(function(a){return this.dc(J(function(){return this.W.put(a.Ka())},this))},this);return ad(a)};
va(H,function(a){if(0==a[C])return this.dc(J(function(){return this.W[v]()},this));var b=new Dd;a[F](function(a){var d=a>>9,g=b.get(d)||null;null===g&&(g=this.dh(this.W[n],d));g.Zk([a]);b.set(d,g)},this);a=Fd(b).map(function(a){return this.dc(J(function(){var b;a:{b=a.xc();for(var g in b){b=!1;break a}b=!0}return b?this.W[Ya](a.fa()):this.W.put(a.Ka())},this))},this);return ad(a)});function Wd(a,b,c){a=a.o(Id);var d=[c<<9,(c+1<<9)-1];b=a.pb(b,d[0],d[1]);c=new Sd(c);c.jh(b);return c}
function Xd(a,b){return new Sd(b)};
function Yd(){};
function Zd(a){this.ua=a.o(Id);this.J=a.o(Jd);this.s=a.o(Nd)}qa(Zd[r],function(a){a[F](function(a){this.xl(a);this.ul(a)},this)});Zd[r].ul=function(a){var b=a[t]();a.Wc().f()[F](function(a){this.ua[w](b,[a.id()])},this);a.Uc()[F](function(a){this.ua.set(b,[a])},this);a.Yc()[F](function(a){this.ua.set(b,[a[1]])},this)};Zd[r].xl=function(a){var b=this.s[h](a[t]());a.yj()[F](function(a){this.vh(b,a)},this)};
Zd[r].vh=function(a,b){a.za().map(function(a){return this.J.get(a.l())},this)[Sa]([this.J.get(a.Vb())])[F](function(a){var d=null===b[1]?void 0:b[1].Zb(a[t]()),g=null===b[0]?void 0:b[0].Zb(a[t]());if(!Mb(g)&&Mb(d))a.add(d,b[1].id());else if(Mb(g)&&Mb(d)){if(null===d||null===g){if(d==g)return}else if(0==a.Mc()[Ab](g,d))return;a.add(d,b[1].id());a[w](g,b[0].id())}else Mb(g)&&!Mb(d)&&a[w](g,b[0].id())})};
var $d={};I("lf.ConstraintAction",$d,void 0);$d.RESTRICT=0;$d.CASCADE=1;var ae={};I("lf.ConstraintTiming",ae,void 0);ae.IMMEDIATE=0;ae.DEFERRABLE=1;var be={};I("lf.Order",be,void 0);be.DESC=0;be.ASC=1;var ce={};I("lf.Type",ce,void 0);ce.ARRAY_BUFFER=0;ce.BOOLEAN=1;ce.DATE_TIME=2;ce.INTEGER=3;ce.NUMBER=4;ce.STRING=5;ce.OBJECT=6;var de={0:null,1:!1,2:aa.freeze(new Date(0)),3:0,4:0,5:"",6:null};I("lf.type.DEFAULT_VALUES",de,void 0);
function P(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments[C])for(var c=1;c<=ba.min(4,arguments[C]-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(ha(arguments[c][D]()[m](0,64)))}K(P,fa);

function ee(a){this.J=a.o(Jd);this.s=a.o(Nd)}H=ee[r];H.gj=function(a,b){var c=a.Jb().Pd();return null===c?null:this.fj(c,b)};H.fj=function(a,b){var c=a.l(),d=b.Zb(c),c=this.J.get(c).get(d);return 0==c[C]?null:c[0]};H.we=function(a,b){var c=a.Jb().Gj();b[F](function(a){c[F](function(b){if(null==a.w()[b[t]()])throw new P(202,b.l());},this)},this)};H.Of=function(a,b,c){a.Jb().Ge()[F](function(a){a[Na]==c&&this.ni(a,b)},this)};
H.ni=function(a,b){b[F](function(b){if(fe(b[0],b[1],a[n])){b=b[1].w()[a.Rb];var d=this.hg(a);if(null!==b&&!d.C(b))throw new P(203,a[n]);}},this)};H.hg=function(a){var b=this.s[h](a.fb)[a.Ac].za()[Ga](function(b){return 1==b.h[C]&&b.h[0].ga[t]()==a.Ac})[0];return this.J.get(b.l())};function fe(a,b,c){return(null===a?null!==b:null===b)||a.Zb(c)!=b.Zb(c)}
H.Pf=function(a,b,c){a=this.s[zb]().Oj(a[t]());null!=a&&a[F](function(a){if(a[Na]==c){var g=this.J.get(a[n]);b[F](function(b){var c=this.hg(a);if(fe(b[0],b[1],c[t]())&&g.C(b[0].w()[a.Ac]))throw new P(203,a[n]);},this)}},this)};H.ue=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[null,a]}),this.Of(a,b,c))};H.ve=function(a,b,c){0!=b[C]&&(this.Of(a,b,c),this.Pf(a,b,c))};H.Mf=function(a,b,c){0!=b[C]&&(b=b.map(function(a){return[a,null]}),this.Pf(a,b,c))};
function ge(a){this.kb=new N;this.Pa=new N;this.nb=new N;this.A=a}H=ge[r];na(H,G("A"));H.Uc=G("kb");H.Yc=G("Pa");H.Wc=G("nb");H.add=function(a){if(this.nb.C(a.id())){var b=[this.nb.get(a.id()),a];this.Pa.set(a.id(),b);this.nb[w](a.id())}else this.kb.set(a.id(),a)};H.modify=function(a){var b=a[0],c=a[1];L(b.id()==c.id(),"Row ID mismatch between old/new values.");b=b.id();this.kb.C(b)?this.kb.set(b,c):(this.Pa.C(b)&&(a=[this.Pa.get(a[0].id())[0],c]),this.Pa.set(b,a))};
ra(H,function(a){if(this.kb.C(a.id()))this.kb[w](a.id());else if(this.Pa.C(a.id())){var b=this.Pa.get(a.id())[0];this.Pa[w](a.id());this.nb.set(a.id(),b)}else this.nb.set(a.id(),a)});H.yj=function(){var a=[];this.kb.f()[F](function(b){a[x]([null,b])},this);this.Pa.f()[F](function(b){a[x](b)},this);this.nb.f()[F](function(b){a[x]([b,null])},this);return a};f(H,function(){return"["+this.kb.U()[D]()+"], ["+this.Pa.U()[D]()+"], ["+this.nb.U()[D]()+"]"});
H.Pj=function(){var a=new ge(this.A);this.kb.f()[F](function(b){a[Ya](b)},this);this.nb.f()[F](function(b){a.add(b)},this);this.Pa.f()[F](function(b){a.modify([b[1],b[0]])},this);return a};H.Wa=function(){return this.kb.Wa()&&this.nb.Wa()&&this.Pa.Wa()};
function he(a,b){this.ta=new N;b[F](function(a){this.ta.set(a[t](),a)},this);this.ua=a.o(Id);this.J=a.o(Jd);this.Ua=new ee(a);this.Vd=new Zd(a);this.cf=this.je=!1;this.Gb=new N}H=he[r];H.eg=G("Gb");H.Bj=function(){var a=[];this.Gb.U().map(function(a){return this.ta.get(a)},this)[F](function(b){b.Lb()&&(b.za()[F](function(b){a[x](this.J.get(b.l()))},this),a[x](this.J.get(b[t]()+".#")))},this);return a};H.ha=G("ta");
H.Cj=function(){var a=[];this.ta.f()[F](function(b){b.Lb()&&(b.za()[F](function(b){a[x](b.l())}),a[x](b[t]()+".#"))});return a};H.Db=function(a,b){this.Hc();this.zd(a);this.Ua.we(a,b);this.Ua.ue(a,b,0);for(var c=0;c<b[C];c++)this.Wd(a,[null,b[c]])};
H.Wd=function(a,b){var c=a[t](),d=this.Gb.get(c,null)||new ge(c);this.Gb.set(c,d);try{this.Vd.vh(a,b)}catch(g){throw this.cf=!0,g;}var k=b[0],l=b[1];null===k&&null!==l?(this.ua.set(c,[l]),d.add(l)):null!==k&&null!==l?(this.ua.set(c,[l]),d.modify(b)):null!==k&&null===l&&(this.ua[w](c,[k.id()]),d[Ya](k))};qa(H,function(a,b){this.Hc();this.zd(a);this.Ua.we(a,b);for(var c=0;c<b[C];c++){var d=b[c],d=[this.ua.get([d.id()])[0],d];this.Ua.ve(a,[d],0);this.Wd(a,d)}});
H.Pe=function(a,b){this.Hc();this.zd(a);this.Ua.we(a,b);for(var c=0;c<b[C];c++){var d=b[c],g=null,k=this.Ua.gj(a,d);null!=k?(g=this.ua.get([k])[0],d.Oh(k),this.Ua.ve(a,[[g,d]],0)):this.Ua.ue(a,[d],0);this.Wd(a,[g,d])}};va(H,function(a,b){this.Hc();this.zd(a);this.Ua.Mf(a,b,0);for(var c=0;c<b[C];c++)this.Wd(a,[b[c],null])});H.ai=function(){this.Gb.f()[F](function(a){var b=this.ta.get(a[t]());this.Ua.ue(b,a.Uc().f(),1);this.Ua.Mf(b,a.Wc().f(),1);this.Ua.ve(b,a.Yc().f(),1)},this)};
H.pa=function(){this.Hc();this.je=!0};H.Hc=function(){L(!this.cf,"Attemptted to use journal that needs to be rolled back.");L(!this.je,"Attemptted to commit a terminated journal.")};H.Nb=function(){L(!this.je,"Attempted to rollback a terminated journal.");var a=this.Gb.f().map(function(a){return a.Pj()},this);this.Vd[Va](a);this.je=!0;this.cf=!1};H.zd=function(a){if(!this.ta.C(a[t]()))throw new P(106,a[t]());};
function ie(a,b,c,d){this.c=a;this.u=b;this.$=null===this.c?!1:c;this.da=null===this.u?!1:d}H=ie[r];f(H,function(){return(this.$?"(":"[")+(null===this.c?"unbound":this.c)+", "+(null===this.u?"unbound":this.u)+(this.da?")":"]")});H.ti=function(){if(null===this.c&&null===this.u)return[];var a=null,b=null;null===this.c||(a=new ie(null,this.c,!1,!this.$));null===this.u||(b=new ie(this.u,null,!this.da,!1));return[a,b][Ga](function(a){return null!==a})};
H.reverse=function(){return new ie(this.u,this.c,this.da,this.$)};H.Qg=function(a){var b=je(this.c,a.c,!0,this.$,a.$);if(0==b)return!0;var c=-1==b?this:a;a=1==b?this:a;return null===c.u||c.u>a.c||c.u==a.c&&!c.da&&!a.$};function ke(){return new ie(null,null,!1,!1)}H.sg=function(){return null===this.c&&null===this.u};H.xg=function(){return null!=this.c&&this.c==this.u&&!this.$&&!this.da};
H.contains=function(a){var b=null===this.u||a<this.u||a==this.u&&!this.da;return(null===this.c||a>this.c||a==this.c&&!this.$)&&b};H.Qc=function(a){return this.c==a.c&&this.$==a.$&&this.u==a.u&&this.da==a.da};function je(a,b,c,d,g){function k(a){return c?a:1==a?-1:1}d=d||!1;g=g||!1;return null===a?null===b?(d?!g:g)?d?k(1):k(-1):0:k(-1):null===b?k(1):a<b?-1:a==b?(d?!g:g)?d?k(1):k(-1):0:1}function le(a,b){var c=je(a.c,b.c,!0,a.$,b.$);0==c&&(c=je(a.u,b.u,!1,a.da,b.da));return c};
function me(a,b){this.entries=a;this.I=new O(b);this.Qb=null}H=me[r];H.mk=function(a){return this.I.Qc(a.I)};function ne(a,b){L(a.mk(b),"Intersection/union operations only apply to compatible relations.")}H.Y=function(){return this.I.f()};H.Se=function(){return 1<this.I.ya()};H.Ie=function(){return this[B].map(function(a){return a.wa.w()})};H.Rj=function(){return this[B].map(function(a){return a.wa.id()})};H.el=function(a,b){null===this.Qb&&(this.Qb=new N);this.Qb.set(a.l(),b)};
H.wc=function(a){L(null!==this.Qb,"getAggregationResult called before any results have been calculated.");var b=this.Qb.get(a.l(),void 0);L(Mb(b),"Could not find result for "+a.l());return b};H.ck=function(a){return null!==this.Qb&&this.Qb.C(a.l())};var oe=null;function pe(){null===oe&&(oe=new me([],[]));return oe}
function qe(a){if(0==a[C])return pe();for(var b=a[Ka](function(b,c){ne(a[0],c);return b+c[B][C]},0),c=e(b),d=0,b=a.map(function(a){var b=new N;a[B][F](function(a){c[d++]=a;b.set(a.id,a)});return b}),g=new N,k=0;k<c[C];k++)b[Ua](function(a){return a.C(c[k].id)})&&g.set(c[k].id,c[k]);return new me(g.f(),a[0].I.f())}function re(a){if(0==a[C])return pe();var b=new N;a[F](function(c){ne(a[0],c);c[B][F](function(a){b.set(a.id,a)})});return new me(b.f(),a[0].I.f())}
function se(a,b){var c=1<b[C],d=a.map(function(a){return new te(a,c)});return new me(d,b)}function te(a,b){this.wa=a;this.id=ue++;this.Te=b}var ue=0;te[r].S=function(a){var b=a.cb();return null!==b&&this.wa.w()[sb](b)?this.wa.w()[b]:this.Te?this.wa.w()[a.M().qa()][a[t]()]:this.wa.w()[a[t]()]};te[r].nf=function(a,b){var c=a.cb();if(null!=c)this.wa.w()[c]=b;else if(this.Te){var c=a.M().qa(),d=this.wa.w()[c];null==d&&(d={},this.wa.w()[c]=d);d[a[t]()]=b}else this.wa.w()[a[t]()]=b};
function ve(a,b,c,d){function g(a,b){if(a.Te){var c=a.wa.w(),d;for(d in c)k[d]=c[d]}else L(!k[sb](b[0]),"Attempted to join table with itself, without using table alias, or same alias "+b[0]+"is reused for multiple tables."),k[b[0]]=a.wa.w()}var k={};g(a,b);g(c,d);a=new hd(-1,k);return new te(a,!0)};
I("lf.bind",function(a){return new we(a)},void 0);function we(a){this.ra=a}I("lf.Binder",we,void 0);we[r].Ab=G("ra");
function xe(){var a=ye();this.Ri=new N(1,ze(),2,Ae(),4,a,3,a,5,Be())}Ob(xe);xe[r].Fe=function(a,b){var c=this.Ri.get(a,null);L(null!==c,"Could not find evaluation map for "+a);c=c.get(b,null);L(null!==c,"Could not find evaluator for "+a+", "+b);return c};
function ye(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"neq",function(a,b){return a!=b})}
function Be(){return new N("between",function(a,b){return a>=b[0]&&a<=b[1]},"eq",function(a,b){return a==b},"gte",function(a,b){return a>=b},"gt",function(a,b){return a>b},"in",function(a,b){return-1!=b[$a](a)},"lte",function(a,b){return a<=b},"lt",function(a,b){return a<b},"match",function(a,b){return(new RegExp(b)).test(a)},"neq",function(a,b){return a!=b})}
function Ae(){return new N("between",function(a,b){return a[Eb]()>=b[0][Eb]()&&a[Eb]()<=b[1][Eb]()},"eq",function(a,b){return(null===a?-1:a[Eb]())==(null===b?-1:b[Eb]())},"gte",function(a,b){return a[Eb]()>=b[Eb]()},"gt",function(a,b){return a[Eb]()>b[Eb]()},"in",function(a,b){return b[ab](function(b){return b[Eb]()==a[Eb]()})},"lte",function(a,b){return a[Eb]()<=b[Eb]()},"lt",function(a,b){return a[Eb]()<b[Eb]()},"neq",function(a,b){return(null===a?-1:a[Eb]())!=(null===b?-1:b[Eb]())})}
function ze(){return new N("eq",function(a,b){return a==b},"neq",function(a,b){return a!=b})};function Ce(a,b){this.Eg=a;this.wh=b}Ce[r].getKey=G("Eg");Ce[r].Wj=G("wh");la(Ce[r],function(){return new Ce(this.Eg,this.wh)});function De(a,b){Ce[q](this,a,b);this.i=this.G=null}K(De,Ce);var Ee=[];H=De[r];la(H,function(){return new De(this.getKey(),this.Wj())});H.getParent=G("G");H.vg=function(){return!this.xa()};H.ea=function(){return this.i||Ee};H.zb=function(a){return this.ea()[a]||null};H.xa=function(){return this.ea()[C]};H.Aj=function(){for(var a=0,b=this;b[Bb]();)a++,b=b[Bb]();return a};H.qb=function(){for(var a=this;a[Bb]();)a=a[Bb]();return a};H.contains=function(a){do a=a[Bb]();while(a&&a!=this);return Boolean(a)};
H.Cc=function(a,b){if(!1!==a[q](b,this))for(var c=this.ea(),d=0;d<c[C];d++)c[d].Cc(a,b)};H.hh=Jb("G");H.ma=function(a){this.Ec(a,this.i?this.i[C]:0)};H.Ec=function(a,b){L(!a[Bb]());a.hh(this);this.i=this.i||[];L(0<=b&&b<=this.i[C]);sc(this.i,b,0,a)};H.fe=function(a){var b=this.i&&this.i[a];return b?(b.hh(null),oc(this.i,a),0==this.i[C]&&(this.i=null),b):null};H.removeChild=function(a){return this.fe(ic(this.ea(),a))};

function Fe(){De[q](this,"","");this.Aa=Ge++}K(Fe,De);var Ge=0;Fe[r].fa=G("Aa");Fe[r].of=Jb("Aa");
function He(a,b,c){Fe[q](this);this.K=a;pa(this,b);this.L=c;this.Fd=xe.He().Fe(this.K.Z(),this.L);this.eb=!1;this.oc=b}K(He,Fe);H=He[r];H.Sb=function(){var a=new He(this.K,this[u],this.L);a.fl(this.oc);a.ie(this.eb);a.of(this.fa());return a};H.ob=function(a){return null!=a?(a[x](this.K),a):[this.K]};H.ie=Jb("eb");H.fl=Jb("oc");H.Kf=function(){var a=!1;this[u]instanceof we||(a="array"==Pb(this[u])?!this[u][ab](function(a){return a instanceof we}):!0);if(!a)throw new P(501);};
H.eval=function(a){this.Kf();if("in"==this.L)return this.Mi(a);var b=a[B][Ga](function(a){return this.Fd(a.S(this.K),this[u])!=this.eb},this);return new me(b,a.Y())};Ba(H,function(a){if(this.oc instanceof we){var b=this.oc.Ab();if(a[C]<=b)throw new P(510);pa(this,a[b])}else"array"==Pb(this.oc)&&pa(this,this.oc.map(function(b){if(b instanceof we){if(a[C]<=b.Ab())throw new P(510);return a[b.Ab()]}return b}))});
H.Mi=function(a){L("in"==this.L,"ValuePredicate#evalAsIn_() called for wrong predicate type.");var b=new O(this[u]),c=J(function(a){return b[tb](a)!=this.eb},this),d=a[B][Ga](function(a){return c(a.S(this.K))},this);return new me(d,a.Y())};f(H,function(){return"value_pred("+this.K.l()+" "+this.L+(this.eb?"(complement)":"")+" "+this[u]+")"});H.ug=function(){this.Kf();return null!==this[u]&&("between"==this.L||"eq"==this.L||"gt"==this.L||"gte"==this.L||"lt"==this.L||"lte"==this.L)};
H.ql=function(){L(this.ug(),"Could not convert predicate to key range.");var a=null;"between"==this.L?a=new ie(this[u][0],this[u][1],!1,!1):"eq"==this.L?(a=this[u],a=new ie(a,a,!1,!1)):a="gte"==this.L?new ie(this[u],null,!1,!1):"gt"==this.L?new ie(this[u],null,!0,!1):"lte"==this.L?new ie(null,this[u],!1,!1):new ie(null,this[u],!1,!0);return this.eb?a.ti():[a]};
function Ie(a){this.ga=a;this.Kc=this.va=null}Ie[r].Od=function(a){null===this.va&&null!=this.F&&(this.va=Je(this.F));a=this.va.get(a,null);L(null!==a);return a};function Je(a){var b=new N;a.Cc(function(a){b.set(a.fa(),a)});return b}Ie[r].Ad=function(a){a.F&&(this.F=a.F.Sb());this.Kc=a};Ba(Ie[r],function(){L(null==this.Kc);return this});Ie[r].re=function(a){var b=this.F;null!=b&&b.Cc(function(b){b instanceof He&&b[E](a)})};
function Ke(a){Ie[q](this,a)}K(Ke,Ie);function Le(a){var b="";a[F](function(c,d){b+=c.K.l()+" ";b+=1==c.tb?"ASC":"DESC";d<a[C]-1&&(b+=", ")});return b}Ke[r].ha=function(){return new O(this.c)};la(Ke[r],function(){var a=new Ke(this.ga);a.Ad(this);this.h&&(a.h=this.h[m]());this.c&&(a.c=this.c[m]());a.ba=this.ba;a.V=this.V;this.N&&(a.N=this.N[m]());this.oa&&(a.oa=this.oa[m]());this.$b&&(a.$b=this.$b);this.jc&&(a.jc=this.jc);a.zc=this.zc;return a});
Ba(Ke[r],function(a){Ke.Pb[E][q](this,a);null!=this.$b&&(this.ba=a[this.$b.Ab()]);null!=this.jc&&(this.V=a[this.jc.Ab()]);this.re(a);return this});
function Me(a,b){this.Fa=a;this.ta=b}Me[r].qb=G("Fa");Me[r].$f=Kb("plan description");Me[r].ha=G("ta");function Ne(a){var b=new O;a[F](function(a){b[hb](a.ha())});return b};

function Oe(a,b){this.global=a;this.Hb=a.o(Hd);this.de=b.map(function(a){return a[nb]});this.Tg=b.map(function(a){return a.df});this.Rf=Ne(this.Tg);this.sh=this.Ii();this.fc=bd()}H=Oe[r];H.Ii=function(){return this.de[ab](function(a){return!(a instanceof Ke)})?1:0};
ma(H,function(){var a=new he(this[Wa],this.Rf.f()),b=[],c=this.Tg[m](),d=J(function(){var g=c[rb]();if(g){var k=this.de[b[C]];return g.qb()[Qa](a,k)[z](function(a){b[x](a[0]);return d()})}return Xc()},this);return d()[z](J(function(){return this.Hb.Tb(this.sh,a).pa()},this))[z](J(function(){this.af(b);return b},this),J(function(b){a.Nb();throw b;},this))});H.Z=G("sh");H.ha=G("Rf");H.Zc=G("fc");H.fa=function(){return Vb(this)};H.af=Ib();
function Pe(a,b){Oe[q](this,a,b);this.Kb=a.o(Md)}K(Pe,Oe);Ea(Pe[r],Kb(0));Pe[r].af=function(a){this.de[F](function(b,c){this.Kb.uh(b,a[c])},this)};
function Qe(a,b){this.m=a;this.Kb=a.o(Md);this.$a=a.o(Ld);this.Vd=new Zd(a);this.Gb=b;var c=a.o(Nd),d=this.Gb.map(function(a){return c[h](a[t]())});this.ta=new O(d);this.fc=bd()}H=Qe[r];ma(H,function(){this.Vd[Va](this.Gb);this.md();return Xc()});H.Z=Kb(1);H.ha=G("ta");H.Zc=G("fc");H.fa=function(){return Vb(this)};Ea(H,Kb(1));H.md=function(){var a=this.Kb.Me(this.ta.f());0!=a[C]&&(a=new Pe(this.m,a),this.$a.gc(a))};
function Re(a){this.m=a;this.Hb=a.o(Hd);this.$a=a.o(Ld)}Re[r].ml=function(){this.Hb.subscribe(this.Ze[E](this))};Re[r].Ze=function(a){a=new Qe(this.m,a);this.$a.gc(a)};


function Se(a,b){this.Ta=a;this.j=b;this.jb=new N}I("lf.backstore.FirebaseRawBackStore",Se,void 0);H=Se[r];H.Qd=G("j");H.Rd=function(){throw new P(351);};function Te(a,b){var c=bd(),d=a;b[C]&&(d=a[jb](b));d[Ha]("value",function(a){c[Fb](a.val())},function(a){c[Ma](a)});return c.ka}function Ue(a,b,c){function d(a){a?g[Ma](a):g[Fb]()}c=c||!1;var g=bd();c?a.set(b,d):a[Va](b,d);return g.ka}
H.Ha=function(a){return Te(this.j,"@rev/R")[z](function(a){this.Za=a;return Te(this.j,"@table")}[E](this))[z](function(b){var c=0,d;for(d in b)this.jb.set(d,b[d]),b[d]>c&&(c=b[d]);a.ab()[F](function(a){this.jb.C(a[t]())||(b[a[t]()]=++c)},this);d=this.j[jb]("@table");return Ue(d,b)}[E](this))};
H.ke=function(a,b){var c=this.jb.get(a);return null!=c?function(){var a={},g=bd();this.j[cb]("T").equalTo(c)[Ha]("value",function(c){c[F](function(c){var g=b(c.val());a[da(c.key(),10)]=g});g[Fb](a)});return g.ka}[q](this)[z](function(a){a["@rev"]={R:++this.Za};return Ue(this.j,a)}[E](this)):Xc()};H.Oc=function(a){return this.ke(a,Kb(null))[z](function(){this.jb[w](a);return Ue(this.j[jb]("@table/"+a),null,!0)}[E](this))};Se[r].dropTable=Se[r].Oc;
Se[r].Fc=function(a,b,c){return this.ke(a,function(a){var g=a.P;g[b]=c;return{R:this.Za+1,T:a.T,P:g}}[E](this))};Se[r].addTableColumn=Se[r].Fc;Se[r].Pc=function(a,b){return this.ke(a,function(a){var d=a.P;delete d[b];return{R:this.Za+1,T:a.T,P:d}}[E](this))};Se[r].dropTableColumn=Se[r].Pc;Se[r].ld=function(a,b,c){return this.ke(a,function(a){var g=a.P;g[c]=g[b];delete g[b];return{R:this.Za+1,T:a.T,P:g}}[E](this))};Se[r].renameTableColumn=Se[r].ld;Se[r].Ib=function(){throw new P(351);};
Se[r].createRow=Se[r].Ib;Se[r].bd=G("Ta");Se[r].getVersion=Se[r].bd;Se[r].tc=function(a){var b=bd();a=this.jb.get(a);this.j[cb]("T").equalTo(a)[Ha]("value",function(a){var d=[];a[F](function(a){d[x](a.val().P)});b[Fb](d)});return b.ka};ka(Se[r],function(){var a={},b=this.jb.U().map(function(b){return this.tc(b)[z](function(d){a[b]=d})}[E](this));return ad(b)[z](function(){return a})});ka(Se[r],Se[r].dump);
function Ve(a,b,c){pd[q](this,c,b);this.j=a}K(Ve,pd);Ve[r].M=function(a){return this.j.$c(a)};
Ve[r].Lc=function(){var a=this.Ej().eg();if(0==a.ya())this.ca[Fb]();else{var b=this.j.Qj()+1;this.j.ih(b);var c={"@rev":{R:b}};a[F](function(a){var g=this.j.kg(a[t]());a.Uc()[F](function(a,d){c[d]={R:b,T:g,P:a.w()}});a.Yc()[F](function(a,d){c[d]={R:b,T:g,P:a[1].w()}});a.Wc()[F](function(a,b){c[b]=null})},this);this.j.Nj()[Va](c,function(c){if(null===c)this.ca[Fb]();else this.j.ih(b-1),c=a.f().map(function(a){return this.j.Yg(a[t]())},this),ad(c)[z](this.ca[Ma][E](this.ca),this.ca[Ma][E](this.ca))}[E](this))}return this.ca.ka};
function We(){this.yb=new Dd}H=We[r];H.Le=function(a){if(0==a[C])return Fd(this.yb);var b=[];a[F](function(a){a=this.yb.get(a)||null;null===a||b[x](a)},this);return b};H.getData=G("yb");H.get=function(a){return Xc(this.Le(a))};H.ef=function(a){a[F](function(a){this.yb.set(a.id(),a)},this)};H.put=function(a){this.ef(a);return Xc()};H.Zg=function(a){0==a[C]||a[C]==this.yb[Hb]?this.yb[v]():a[F](function(a){this.yb[Ya](a)},this)};va(H,function(a){this.Zg(a);return Xc()});
H.Fj=function(){return 0==this.yb[Hb]?0:Ed(this.yb)[Ka](function(a,b){return a>b?a:b},0)};
function Xe(a,b){this.s=a;this.Eh=b;this.kd=new N;this.Za=-1;this.I=new N;this.jb=new N;this.se=null}H=Xe[r];H.Qj=G("Za");H.ih=Jb("Za");
H.Ha=function(a){this.j=this.Eh[jb](this.s[n]());var b=a||function(){return Xc()};return Te(this.j,"@db/version")[z](function(a){return null===a?Ue(this.j,this.yi(),!0)[z](function(){var a=new Se(0,this.j);return b(a)}[E](this)):a==this.s[ub]()?Te(this.j,"@rev/R")[z](function(a){this.Za=a;return Te(this.j,"@table")}[E](this))[z](function(a){for(var b in a)this.jb.set(b,a[b]);a=this.s.ab().map(function(a){return this.Yg(a[t]())},this);return ad(a)}[E](this))[z](function(){this.hk();this.Ig();return Xc()}[E](this)):
this.bf(a,b)[z](function(){return this.Ha()}[E](this))}[E](this))};H.bf=function(a,b){var c=new Se(a,this.j);return c.Ha(this.s)[z](function(){return this.wl()}[E](this))[z](function(){return b(c)})[z](function(){var a=this.j[jb]("@db");return Ue(a,{version:this.s[ub]()},!0)}[E](this))};H.wl=function(){return Xc()};H.Ig=function(){this.j.off();this.j.on("child_removed",this.Fk[E](this));this.te&&(this.te.off(),this.kd[v]());this.te=this.j[cb]("R").startAt(this.Za+1);this.te.on("value",this.Ze[E](this))};
H.hk=function(){id=this.I.f().map(function(a){return a.Fj()})[Ka](function(a,b){return a>b?a:b},0)+1};H.Fk=function(a){var b=a.val(),c=this.kd.get(b.T,null);null===c&&(c=new O,this.kd.set(b.T,c));c.add(da(a.key(),10))};H.Ze=function(a){var b=a[jb]("@rev/R").val();null!=b&&b!=this.Za&&(this.Za=b,a=this.mj(a),a[F](function(a){var b=this.I.get(a[t]()),g=a.Wc().U();g[C]&&b.Zg(g);var k=a.Uc().f();a.Yc()[F](function(a){k[x](a[1])});b.ef(k)},this),a[C]&&this.gd(a),this.Ig())};
H.mj=function(a){var b=new O,c=new N;this.jb[F](function(a,g){var k=this.I.get(g),l=new ge(g);if(this.kd.C(a)){var p=this.kd.get(a).f();b[hb](p);k.Le(p)[F](function(a){l[Ya](a)})}c.set(a,l)}[E](this));a[F](function(a){if("@rev"!=a.key()){var g=da(a.key(),10);if(!b[tb](g)){a=a.val();var k=c.get(a.T),l=this.I.get(k[t]());l.getData().C(g)?k.modify([l.Le([g])[0],new hd(g,a.P)]):k.add(new hd(g,a.P))}}}[E](this));return c.f()[Ga](function(a){return!a.Wa()})};
H.Yg=function(a){var b=bd(),c=this.kg(a);this.j[cb]("T").equalTo(c)[Ha]("value",function(c){var g=new We,k=[];c[F](function(a){k[x](new hd(da(a.key(),10),a.val().P))});g.ef(k);this.I.set(a,g);b[Fb]()}[E](this));return b.ka};H.kg=function(a){return this.jb.get(a)};H.yi=function(){var a={};a["@db"]={version:this.s[ub]()};a["@rev"]={R:1};this.Za=1;a["@table"]={};this.s.ab()[F](function(b,c){var d=b[t]();a["@table"][d]=c;this.I.set(d,new We);this.jb.set(d,c)},this);return a};
H.Tb=function(a,b){return new Ve(this,a,b)};H.$c=function(a){var b=this.I.get(a,null);if(null!==b)return b;throw new P(101,a);};H.Nj=G("j");oa(H,Ib());Ca(H,Jb("se"));H.gd=function(a){null!=this.se&&this.se(a)};
function Q(a,b,c,d){this.j=b;this.Sa=c;this.Ta=a;this.wd=d}I("lf.backstore.IndexedDBRawBackStore",Q,void 0);Q[r].Qd=G("j");Q[r].getRawDBInstance=Q[r].Qd;Q[r].Rd=G("Sa");Q[r].getRawTransaction=Q[r].Rd;Q[r].Oc=function(a){return new M(function(b,c){try{this.j.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};Q[r].dropTable=Q[r].Oc;
Q[r].Jk=function(a,b,c){return new M(function(d,g){var k;try{var l=this.Sa[vb](a);k=l[Fa]()}catch(p){g(p);return}sa(k,function(){var a=k[Gb];a?(b(a),a[gb]()):(c(l),d())});za(k,g)},this)};function Ye(a){var b=null;return b=a instanceof ArrayBuffer?ld(a):a instanceof Date?a[Eb]():a}Q[r].tf=function(a,b){function c(a){var c=Ud(a[u]),d=c.xc(),p;for(p in d){var y=jd(d[p]);b(y);d[p]=y.Ka()}a[Va](c.Ka())}function d(a){var c=jd(a[u]);b(c);a[Va](c.Ka())}return this.Jk(a,this.wd?c:d,Ib())};
Q[r].Fc=function(a,b,c){var d=Ye(c);return this.tf(a,function(a){a.w()[b]=d})};Q[r].addTableColumn=Q[r].Fc;Q[r].Pc=function(a,b){return this.tf(a,function(a){delete a.w()[b]})};Q[r].dropTableColumn=Q[r].Pc;Q[r].ld=function(a,b,c){return this.tf(a,function(a){a.w()[c]=a.w()[b];delete a.w()[b]})};Q[r].renameTableColumn=Q[r].ld;
Q[r].Uj=function(a){var b=[];return new M(function(c,d){var g;try{g=this.Sa[vb](a)[Fa]()}catch(k){d(k);return}sa(g,J(function(){var a=g[Gb];if(a){if(this.wd){var d=Ud(a[u]).xc(),k;for(k in d)b[x](d[k])}else b[x](a[u]);a[gb]()}else c(b)},this));za(g,d)},this)};Q[r].Ib=function(a){var b={};zc(a,J(function(a,d){b[d]=Ye(a)},this));return kd(b)};Q[r].createRow=Q[r].Ib;Q[r].bd=G("Ta");Q[r].getVersion=Q[r].bd;
ka(Q[r],function(){for(var a=this.j[Ia],b=[],c=0;c<a[C];++c){var d=a[Oa](c);b[x](this.tc(d))}return ad(b)[z](function(b){var c={};b[F](function(b,d){c[a[Oa](d)]=b});return c})});ka(Q[r],Q[r].dump);Q[r].tc=function(a){return this.Uj(a)[z](function(a){return a.map(function(a){return a[u]})})};
function Ze(a,b){this.W=a;this.Ub=b}H=Ze[r];H.get=function(a){if(0==a[C])return this.Vc();a=a.map(function(a){return new M(function(c,d){var g;try{g=this.W.get(a)}catch(k){d(k);return}za(g,d);sa(g,J(function(a){c(this.Ub(a[Pa][Gb]))},this))},this)},this);return ad(a)};H.Vc=function(){return new M(function(a,b){var c=[],d;try{d=this.W[Fa]()}catch(g){b(g);return}za(d,b);sa(d,J(function(){var b=d[Gb];b?(c[x](this.Ub(b[u])),b[gb]()):a(c)},this))},this)};
H.dc=function(a){return new M(function(b,c){var d;try{d=a()}catch(g){c(g);return}sa(d,b);za(d,c)},this)};H.put=function(a){if(0==a[C])return Xc();a=a.map(function(a){return this.dc(J(function(){return this.W.put(a.Ka())},this))},this);return ad(a)};
va(H,function(a){return new M(function(b,c){var d=this.W[bb]();sa(d,J(function(d){if(0==a[C]||d[Pa][Gb]==a[C])return this.dc(J(function(){return this.W[v]()},this))[z](b,c);d=a.map(function(a){return this.dc(J(function(){return this.W[Ya](a)},this))},this);ad(d)[z](b,c)},this));za(d,c)},this)});
function $e(a,b,c,d,g){pd[q](this,c,d);this.m=a;this.Sa=b;this.wd=g;this.Sa.oncomplete=J(this.ca[Fb],this.ca);this.Sa.onabort=J(this.ca[Ma],this.ca)}K($e,pd);$e[r].M=function(a,b,c){return this.wd?(c=null!=c?c:0,a=this.Sa[vb](a),new Vd(a,b,0==c?$b(Wd,this.m):Xd)):new Ze(this.Sa[vb](a),b)};$e[r].Lc=function(){return this.ca.ka};
function af(a,b){this.m=a;this.s=b;this.xd=b.Ug().Ki||!1}H=af[r];H.Ha=function(a){var b=ca.indexedDB||ca.mozIndexedDB||ca.webkitIndexedDB||ca.msIndexedDB||ca.shimIndexedDB;if(null==b)throw new P(352);var c=a||function(){return Xc()};return new M(function(a,g){var k;try{k=b.open(this.s[n](),this.s[ub]())}catch(l){g(l);return}za(k,g);k.onupgradeneeded=J(function(a){this.Ik(c,a)[z](Ib(),g)},this);sa(k,J(function(b){this.j=b[Pa][Gb];this.mf()[z](J(function(b){id=b+1;a(this.j)},this))},this))},this)};
H.Ik=function(a,b){var c=b[Pa][Gb],d=b[Pa][lb],g=new Q(b.oldVersion,c,d,this.xd);this.Yk(c,d);this.Di(c,d);return a(g)};H.Yk=function(a){for(var b=[],c=0;c<a[Ia][C];++c){var d=a[Ia][Oa](c);-1!=d[$a](".")&&b[x](d)}b[F](function(b){try{a.deleteObjectStore(b)}catch(c){}})};H.Di=function(a,b){this.s.ab()[F]($b(this.Ai,a,b),this)};H.Ai=function(a,b,c){a[Ia][tb](c[t]())||a.createObjectStore(c[t](),{keyPath:"id"});c.Lb()&&(c.za()[F](function(c){this.Nc(a,b,c.l(),"btree")},this),this.Nc(a,b,c.Vb(),"rowid"))};
H.Nc=function(a,b,c,d){a[Ia][tb](c)||(a.createObjectStore(c,{keyPath:"id"}),a=b[vb](c),(this.xd?new Vd(a,jd,Xd):new Ze(a,jd)).put([new nd(new md(d))]))};H.Tb=function(a,b){var c=b.ha().f().map(function(a){return a[t]()});b.Cj()[F](function(a){c[x](a)});var d=this.j[lb](c,0==a?"readonly":"readwrite");return new $e(this.m,d,b,a,this.xd)};
H.mf=function(a){function b(){if(0==c[C])return Xc();var a=c[rb]();return l(a)[z](b)}var c=this.s.ab().map(function(a){return a[t]()}),d=this.j,g=0,k=J(function(a){return this.xd?(a=Ud(a[u]),Cc(a.xc())[Ka](function(a,b){return ba.max(a,b)},0)):a.key},this),l=J(function(b){return new M(function(c,l){var qb;try{qb=(a||d[lb]([b]))[vb](b)[Fa](null,"prev")}catch(Dc){l(Dc);return}sa(qb,function(a){(a=a[Pa][Gb])&&(g=ba.max(g,k(a)));c(g)});za(qb,function(){c(g)})},this)},this);return new M(function(a){b()[z](function(){a(g)})})};
oa(H,function(){this.j[Ra]()});H.$c=function(){throw new P(511);};Ca(H,Ib());H.gd=Ib();



function bf(a,b,c){pd[q](this,c,b);this.W=a;0==b&&this.ca[Fb]()}K(bf,pd);bf[r].M=function(a){return this.W.$c(a)};bf[r].Lc=function(){this.ca[Fb]();return this.ca.ka};
function cf(a){this.s=a;this.I=new Dd}H=cf[r];H.Ha=function(){this.s.ab()[F](this.ik,this);return Xc()};H.$c=function(a){var b=this.I.get(a)||null;if(null===b)throw new P(101,a);return b};H.Tb=function(a,b){return new bf(this,a,b)};H.Tf=function(a){if(!this.I.has(a)){var b=new We;this.I.set(a,b);return b}return null};H.ik=function(a){this.Tf(a[t]());a.Lb()&&(a.za()[F](function(a){this.Nc(a.l(),"btree")},this),this.Nc(a.Vb(),"rowid"))};H.Nc=function(a,b){var c=this.Tf(a);null===c||c.put([new nd(new md(b))])};
oa(H,Ib());Ca(H,Ib());H.gd=Ib();
function df(a){cf[q](this,a);this.Zd=null}K(df,cf);Ca(df[r],function(a){null===this.Zd&&(this.Zd=a)});df[r].gd=function(a){null===this.Zd||this.Zd(a)};
function ff(a,b,c){this.Sa=a;this.A=b;this.Ub=c}ff[r].get=function(a){var b=this.Ub;this.Sa.Qa("SELECT id, value FROM "+this.A+" "+(0==a[C]?"":"WHERE id IN ("+a[La](",")+")"),[],function(a){for(var d=a[Cb][C],g=e(d),k=0;k<d;++k)g[k]=b({id:a[Cb][Oa](k).id,value:ga.parse(a[Cb][Oa](k)[u])});return g});return this.Sa.pa()};ff[r].put=function(a){if(0==a[C])return Xc();var b="INSERT OR REPLACE INTO "+this.A+"(id, value) VALUES (?, ?)";a[F](function(a){this.Sa.Qa(b,[a.id(),ga[yb](a.w())])},this);return Xc()};
va(ff[r],function(a){this.Sa.Qa("DELETE FROM "+this.A+" "+(0==a[C]?"":"WHERE id IN ("+a[La](",")+")"),[]);return Xc()});
function gf(a,b,c){pd[q](this,b,c);this.j=a;this.I=new Dd;this.ze=[]}K(gf,pd);gf[r].M=function(a,b){var c=this.I.get(a)||null;null===c&&(c=new ff(this,a,b),this.I.set(a,c));return c};gf[r].Qa=function(a,b,c){this.ze[x]({nl:a,Kk:b,transform:c})};
gf[r].Lc=function(){var a,b,c=this.ca[Ma][E](this.ca),d=function(a,b){this.ca[Ma](b)}[E](this),g=J(function(c,l){a=l;if(this.ze[C]){var p=this.ze[rb]();b=p.transform;c.executeSql(p.nl,p.Kk,g,d)}else p=a,null!=b&&null!=a&&(p=b(a)),this.ca[Fb](p)},this);0==this.rh?this.j.readTransaction(g,c):this.j[lb](g,c);return this.ca.ka};
function R(a,b,c){this.j=c;this.m=a;this.Ta=b}I("lf.backstore.WebSqlRawBackStore",R,void 0);R[r].Qd=G("j");R[r].getRawDBInstance=R[r].Qd;R[r].Rd=function(){throw new P(356);};R[r].getRawTransaction=R[r].Rd;R[r].Ed=function(){return new gf(this.j,new he(this.m,[]),1)};R[r].Oc=function(a){var b=this.Ed();b.Qa("DROP TABLE "+a,[]);return b.pa()};R[r].dropTable=R[r].Oc;
R[r].tc=function(a){var b=this.Ed();b.Qa("SELECT id, value FROM "+a,[]);return b.pa()[z](function(a){for(var b=a[Cb][C],g=e(b),k=0;k<b;++k)g[k]={id:a[Cb][Oa](k).id,value:ga.parse(a[Cb][Oa](k)[u])};return Xc(g)})};R[r].sf=function(a,b){var c=this.Ed(),d="UPDATE "+a+" SET value=? WHERE id=?";return this.tc(a)[z](function(a){a[F](function(a){a=b(a);c.Qa(d,[ga[yb](a[u]),a.id])});return c.pa()})};R[r].Fc=function(a,b,c){var d=Ye(c);return this.sf(a,function(a){a[u][b]=d;return a})};
R[r].addTableColumn=R[r].Fc;R[r].Pc=function(a,b){return this.sf(a,function(a){delete a[u][b];return a})};R[r].dropTableColumn=R[r].Pc;R[r].ld=function(a,b,c){return this.sf(a,function(a){a[u][c]=a[u][b];delete a[u][b];return a})};R[r].renameTableColumn=R[r].ld;R[r].Ib=function(a){var b={},c;for(c in a)b[c]=Ye(a[c]);return kd(b)};R[r].createRow=R[r].Ib;R[r].bd=G("Ta");R[r].getVersion=R[r].bd;
function hf(a){a.Qa('SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=e(a[Cb][C]),d=0;d<c[C];++d)c[d]=a[Cb][Oa](d).tbl_name;return c})}ka(R[r],function(){var a=bd(),b=this.Ed();hf(b);var c={};b.pa()[z](J(function(b){b=b[Ga](function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.tc(a)[z](function(b){c[a]=b})},this);ad(b)[z](function(){a[Fb](c)})},this));return a.ka});ka(R[r],R[r].dump);
function jf(a,b,c){this.m=a;this.s=b;this.jl=c||4194304}H=jf[r];H.Jd=function(){return new he(this.m,[])};H.Ha=function(a){if(null==ca.openDatabase)throw new P(353);var b=a||function(){return Xc()};return new M(J(function(a,d){try{var g=ca.openDatabase(this.s[n](),"",this.s[n](),this.jl);if(null!=g)this.j=g,this.oi(b)[z](a,d);else throw new P(354);}catch(k){d(k)}},this))};
H.oi=function(a){var b=bd(),c=new gf(this.j,this.Jd(),1);c.Qa("CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);c.Qa("SELECT v FROM __lf_ver WHERE id = 0",[]);c.pa()[z](J(function(c){var g=0;c[Cb][C]&&(g=c[Cb][Oa](0).v);g<this.s[ub]()?this.bf(a,g)[z](b[Fb][E](b)):g>this.s[ub]()?b[Ma](new P(108)):b[Fb]()},this));return b.ka};H.Tb=function(a,b){if(null!=this.j)return new gf(this.j,b,a);throw new P(2);};oa(H,Ib());H.$c=function(){throw new P(512);};
H.Lg=function(){throw new P(355);};Ca(H,function(){this.Lg()});H.gd=function(){this.Lg()};H.bf=function(a,b){var c=bd();this.Nk()[z](J(function(){a(new R(this.m,b,this.j))[z](J(function(){return this.mf()},this))[z](c[Fb][E](c))},this),c[Ma][E](c));return c.ka};
H.Nk=function(){var a=this.s.ab(),b=new gf(this.j,this.Jd(),1),c=new gf(this.j,this.Jd(),1);b.Qa("INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[this.s[ub]()]);hf(b);return b.pa()[z](function(b){b[Ga](function(a){return-1!=a[$a](".")})[F](function(a){c.Qa("DROP TABLE "+a,[])});var g=b[Ga](function(a){return-1==a[$a](".")});a.map(function(a){return a[t]()})[Ga](function(a){return-1==g[$a](a)})[F](function(a){c.Qa("CREATE TABLE "+a+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return c.pa()})};
H.mf=function(){var a=0,b=bd(),c=J(function(b){var c=new gf(this.j,this.Jd(),0);c.Qa("SELECT MAX(id) FROM "+b,[]);return c.pa()[z](function(b){b=b[Cb][Oa](0)[0];a=ba.max(b,a)})},this),d=this.s.ab().map(function(a){return c(a[t]())});ad(d)[z](function(){b[Fb](a)},function(a){b[Ma](a)});return b.ka};

function kf(a){this.hc=new O(a);aa.defineProperty(this,"size",{get:function(){return this.hc.ya()}})}kf[r].add=function(a){this.hc.add(a)};kf[r].add=kf[r].add;ta(kf[r],function(){this.hc[v]()});ta(kf[r],kf[r][v]);ra(kf[r],function(a){return this.hc[w](a)});kf[r]["delete"]=kf[r][Ya];Da(kf[r],function(a,b){this.hc.f()[F](a,b)});kf[r].has=function(a){return this.hc[tb](a)};kf[r].has=kf[r].has;var mf=ca.Set&&ca.Set[r][db]&&ca.Set[r][F]?ca.Set:kf;
function nf(a){if(a instanceof kf)return a.hc.f();var b=0,c=e(a[Hb]);a[F](function(a){c[b++]=a});return c};
function of(){this.g=new Dd;this.nh=new Dd}H=of[r];H.Sd=function(a){var b=this.nh.get(a);Mb(b)||(b=new mf,this.nh.set(a,b));return b};H.set=function(a,b){var c=this.Sd(a);b[F](J(function(a){this.g.set(a.id(),a);c.add(a.id())},this))};H.get=function(a){return a.map(J(function(a){return this.g.get(a)||null},this))};
H.pb=function(a,b,c){var d=[],g=ba.min(b,c),k=ba.max(b,c);a=this.Sd(a);if(a[Hb]<k-g)a[F](function(a){a>=g&&a<=k&&(a=this.g.get(a),L(null!=a,"Inconsistent cache"),d[x](a))},this);else for(b=g;b<=k;++b)a.has(b)&&(c=this.g.get(b),L(null!=c,"Inconsistent cache"),d[x](c));return d};va(H,function(a,b){var c=this.Sd(a);b[F](function(a){this.g[Ya](a);c[Ya](a)},this)});H.ya=function(a){return null!=a?this.Sd(a)[Hb]:this.g[Hb]};
function pf(a,b,c,d){a=b?a[fb]():a;if(null==c&&null==d)return a;c=ba.min(Mb(c)?c:a[C],a[C]);if(0==c)return[];d=ba.min(d||0,a[C]);return a[m](d,d+c)};
function qf(){this.Ga=0}qf[r].add=function(a,b){this.Ga+=b};va(qf[r],function(a,b){this.Ga-=b});ta(qf[r],function(){this.Ga=0});qf[r].vl=function(a){this[v]();a[F](function(a){this.Ga+=a.Ga},this)};
function rf(a,b,c,d){this.A=a;this.X=b;this.vf=c;this.vb=new qf;if(d){a=511;a*=a*a;if(d[C]>=a)throw new P(6,a);d=sf(this,d);this.sa=d=tf(d)}else this[v]()}var uf=[];H=rf[r];na(H,G("A"));f(H,function(){return this.sa[D]()});H.add=function(a,b){this.sa=this.sa.Db(a,b)};H.set=function(a,b){this.sa=this.sa.Db(a,b,!0)};va(H,function(a,b){this.sa=this.sa[w](a,b)});H.get=function(a){return this.sa.get(a)};H.Dd=function(a){if(null==a)return this.ib().Ga;if(a instanceof ie){if(a.sg())return this.ib().Ga;if(a.xg())return this.get(a.c)[C]}return this.pb([a])[C]};
H.ib=G("vb");H.Vc=function(a,b,c,d){c=e(a);this.sa.fill({offset:b?this.vb.Ga-a-d:d,count:a,qf:0},c);return b?c[fb]():c};
H.pb=function(a,b,c,d){var g=this.sa.Md().b[0];if(!Mb(g)||0==c)return uf;b=b||!1;c=null!=c?ba.min(c,this.vb.Ga):this.vb.Ga;d=d||0;var k=ba.min(ba.max(this.vb.Ga-d,0),c);if(0==k)return uf;if(!Mb(a)||1==a[C]&&a[0]instanceof ie&&a[0].sg())return this.Vc(k,b,c,d);a=this.X.lh(a);var l=e(b?this.vb.Ga:k),p={count:0,ba:l[C],reverse:b,V:d};a[F](function(a){for(var b=this.X.ee(a),b=this.X.Re(a)?g:b[0],b=this.sa.dg(b),c=p[bb],d=0;null!=b&&p[bb]<p.ba;)b.pb(a,p,l),p[bb]!=c?(d=0,c=p[bb]):d++,b=2==d?null:b[pb]()},
this);l[A](p[bb],k-p[bb]);return b?pf(l,b,c,d):l};ta(H,function(){this.sa=vf(this);this.vb[v]()});H.C=function(a){return this.sa.C(a)};H.min=function(){return this.fd(J(this.X.min,this.X))};H.max=function(){return this.fd(J(this.X.max,this.X))};H.fd=function(a){var b=this.sa.Md(),c=this.sa.jg();if(0==b.b[C]&&0==c.b[C])return null;var d=b.b[0],b=b.B[0],g=c.b[c.b[C]-1],c=c.B[c.b[C]-1];return 1==a(d,g)?[d,this.vf?[b]:b]:[g,this.vf?[c]:c]};H.Na=G("vf");H.Mc=G("X");
H.We=function(a,b){return null!=a?-1==this.X[Ab](a,b):!1};H.Va=function(a,b){return null!=a?0==this.X[Ab](a,b):!1};H.Ka=function(){for(var a=[],b=this.sa.Md();b;)a[x](new hd(b.Aa,[b.b,b.B])),b=b.Ba;return a};function wf(a,b,c,d){a=new rf(b,a,c);d=xf(d,a);a.sa=d;return a}function yf(a,b){this.Aa=a;this.D=b;this.rb=0;this.Ba=this.Eb=this.G=null;this.b=[];this.B=[];this.i=[]}function vf(a){return new yf(id++,a)}H=yf[r];H.ja=function(){return 0==this.rb};H.Bg=function(){return null==this.G};ya(H,G("Ba"));
function zf(a){function b(a){return null!=a?a.Aa[D]():"_"}var c=a.Aa+"["+a.b[La]("|")+"]",d=a.i.map(function(a){return a.Aa})[La]("|"),g=a.B[La]("/"),k=b(a.Eb)+"{",k=a.ja()?k+g:k+d,k=k+"}"+b(a.G);a.Ba&&(a=zf(a.Ba),c=c+"  "+a[0],k=k+"  "+a[1]);return[c,k]}f(H,function(){var a="",b=zf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.i[C]&&(a+=this.i[0][D]());return a});H.Md=function(){return this.ja()?this:this.i[0].Md()};H.jg=function(){return this.ja()?this:this.i[this.i[C]-1].jg()};
function Af(a,b){b&&(b.Eb=a);a&&(a.Ba=b)}function sf(a,b){for(var c=b[C],d=0,g=vf(a),k=g;0<c;){var l=768<=c?511:257<=c&&511>=c?c:257,p=b[m](d,d+l);g.b=p.map(function(a){return a.key});g.B=p.map(function(a){return a[u]});d+=l;c-=l;0<c&&(l=vf(g.D),Af(g,l),g=l)}return k}function Bf(a){var b=a[0],c=vf(b.D);c.rb=b.rb+1;c.i=a;for(b=0;b<a[C];++b)a[b].G=c,0<b&&c.b[x](a[b].b[0]);return c}
function tf(a){var b=a,c=[];do c[x](b),b=b.Ba;while(b);if(512>=c[C])b=Bf(c);else{var d=c[C],g=0,b=vf(a.D);for(b.rb=a.rb+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var k=c[m](g,g+a),l=Bf(k);l.G=b;b.i[C]&&(b.b[x](k[0].b[0]),Af(b.i[b.i[C]-1],l));b.i[x](l);g+=a;d-=a}}return b}H.get=function(a){var b=this.nd(a);if(this.ja()){var c=uf;this.D.Va(this.b[b],a)&&(c=c[Sa](this.B[b]));return c}b=this.D.Va(this.b[b],a)?b+1:b;return this.i[b].get(a)};
H.C=function(a){var b=this.nd(a);return this.D.Va(this.b[b],a)?!0:this.ja()?!1:this.i[b].C(a)};va(H,function(a,b){this.Wf(a,-1,b);if(this.Bg()){var c=this;1==this.i[C]&&(c=this.i[0],c.G=null);return c}return this});function Cf(a){return a.ja()?a.b[0]:Cf(a.i[0])}H.Gd=function(){this.b=[];for(var a=1;a<this.i[C];++a)this.b[x](Cf(this.i[a]))};
H.Wf=function(a,b,c){var d=this.nd(a),g=this.ja();if(!g){var k=this.D.Va(this.b[d],a)?d+1:d;if(this.i[k].Wf(a,k,c))this.Gd();else return!1}else if(!this.D.Va(this.b[d],a))return!1;if(this.b[C]>d&&this.D.Va(this.b[d],a)){if(Mb(c)&&!this.D.Na()&&g&&(k=this.B[d],c=uc(k,vc,!1,c),0<=c&&oc(k,c)&&this.D.ib()[w](a,1),this.B[d][C]))return!1;this.b[A](d,1);g&&(g=this.D.Na()?1:this.B[d][C],this.B[A](d,1),this.D.ib()[w](a,g))}256>this.b[C]&&!this.Bg()&&(this.ol()||this.Bk(b));return!0};
H.ol=function(){var a=null,b,c,d;if(this.Ba&&256<this.Ba.b[C])a=this.Ba,c=b=0,d=this.b[C]+1;else if(this.Eb&&256<this.Eb.b[C])a=this.Eb,b=this.Eb.b[C]-1,c=this.ja()?b:b+1,d=0;else return!1;this.b[A](d,0,a.b[b]);a.b[A](b,1);b=this.ja()?this.B:this.i;var g=null;this.ja()?g=a.B:(g=a.i,g[c].G=this);b[A](d,0,g[c]);g[A](c,1);a.ja()||(a.Gd(),this.Gd());return!0};
H.Bk=function(a){var b,c,d;this.Ba&&511>this.Ba.b[C]?(b=this.Ba,d=c=0):this.Eb&&(b=this.Eb,c=b.b[C],d=b.ja()?b.B[C]:b.i[C]);c=[c,0][Sa](this.b);e[r][A][xb](b.b,c);c=null;this.ja()?c=this.B:(c=this.i,c[F](function(a){a.G=b}));c=[d,0][Sa](c);e[r][A][xb](b.ja()?b.B:b.i,c);Af(this.Eb,this.Ba);b.ja()||b.Gd();-1!=a&&(this.G.b[A](a,1),this.G.i[A](a,1))};
H.Db=function(a,b,c){var d=this.nd(a);if(this.ja()){if(this.D.Va(this.b[d],a)){if(c)this.D.ib()[w](a,this.D.Na()?1:this.B[d][C]),this.B[d]=this.D.Na()?b:[b];else{if(this.D.Na())throw new P(201);if(!wc(this.B[d],b))throw new P(109);}this.D.ib().add(a,1);return this}this.b[A](d,0,a);this.B[A](d,0,this.D.Na()?b:[b]);this.D.ib().add(a,1);return 512==this.b[C]?this.ll():this}d=this.D.Va(this.b[d],a)?d+1:d;a=this.i[d].Db(a,b,c);a.ja()||1!=a.b[C]||(this.b[A](d,0,a.b[0]),a.i[1].G=this,a.i[0].G=this,this.i[A](d,
1,a.i[1]),this.i[A](d,0,a.i[0]));return 512==this.b[C]?this.kl():this};H.ll=function(){var a=vf(this.D),b=vf(this.D);b.rb=1;b.b=[this.b[256]];b.i=[this,a];b.G=this.G;this.G=b;a.b=this.b[A](256);a.B=this.B[A](256);a.G=b;Af(a,this.Ba);Af(this,a);return b};H.kl=function(){var a=vf(this.D),b=vf(this.D);a.G=this.G;a.rb=this.rb+1;a.b=[this.b[256]];a.i=[this,b];this.b[A](256,1);b.G=a;b.rb=this.rb;b.b=this.b[A](256);b.i=this.i[A](257);b.i[F](function(a){a.G=b});this.G=a;Af(b,this.Ba);Af(this,b);return a};
H.nd=function(a){for(var b=0,c=this.b[C];b<c;){var d=b+c>>1;this.D.We(this.b[d],a)?b=d+1:c=d}return b};H.dg=function(a){if(!this.ja()){var b=this.nd(a);this.D.Va(this.b[b],a)&&b++;return this.i[b].dg(a)}return this};
H.pb=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var g=this.D.Mc(),k=0,l=this.b[C]-1,p=this.b,y=d(g.xb(p[k],a)),wa=d(g.xb(p[l],a));if(1!=y&&(-1!=y||-1!=wa)){var qb=function(a,b){var c=a+b>>1;return c==a?c+1:c},Dc=function(b,c,k){if(b>=c)return 0==k?c:-1;var l=d(g.xb(p[b],a));if(0==l)return b;if(1==l)return-1;l=qb(b,c);if(l==c)return 0==k?c:-1;var y=d(g.xb(p[l],a));return 0==y?Dc(b,l,y):-1==y?Dc(l+1,c,k):Dc(b+1,l,y)},ef=function(b,c){if(b>=c)return b;var k=d(g.xb(p[c],a));if(0==k)return c;
if(-1==k)return b;k=qb(b,c);if(k==c)return b;var l=d(g.xb(p[k],a));return 0==l?ef(k,c):1==l?ef(b,k-1):-1};0!=y&&(k=Dc(k+1,l,wa));-1!=k&&(l=ef(k,l),-1!=l&&l>=k&&this.Gh(b,c,k,l+1))}};H.Gh=function(a,b,c,d){for(;c<d&&(a[fb]||!(a[bb]>=a.ba));++c)if(this.D.Na())!a[fb]&&a.V?a.V--:b[a.count++]=this.B[c];else for(var g=0;g<this.B[c][C]&&a[bb]<b[C];++g)!a[fb]&&a.V?a.V--:b[a.count++]=this.B[c][g]};
H.fill=function(a,b){if(this.ja())for(var c=0;c<this.B[C]&&0<a[bb];++c)if(0<a[wb]){if(a.offset=a[wb]-(this.D.Na()?1:this.B[c][C]),0>a[wb])for(var d=this.B[c][C]+a[wb];d<this.B[c][C]&&0<a[bb];++d)b[a.qf++]=this.B[c][d],a.count--}else if(this.D.Na())b[a.qf++]=this.B[c],a.count--;else for(d=0;d<this.B[c][C]&&0<a[bb];++d)b[a.qf++]=this.B[c][d],a.count--;else for(c=0;c<this.i[C]&&0<a[bb];++c)this.i[c].fill(a,b)};
function xf(a,b){for(var c=b.ib(),d=a.map(function(a){var d=new yf(a.id(),b);d.b=a.w()[0];d.B=a.w()[1];d.b[F](function(a,g){c.add(a,b.Na()?1:d.B[g][C])});return d}),g=0;g<d[C]-1;++g)Af(d[g],d[g+1]);return 1<d[C]?tf(d[0]):d[0]};
function Df(a){if(1==a.h[C])return new Ef(a.h[0].tb);a=a.h.map(function(a){return a.tb});return new Ff(a)}function Ef(a){this.Bd=0==a?Gf:Hf;this.Xe=0==a?function(a){return null!=a?a[fb]():null}:function(a){return a||null};this.Pg=0==a?If:Jf}K(Ef,Yd);function Hf(a,b){return a>b?1:a<b?-1:0}function Gf(a,b){return Hf(b,a)}function Jf(a,b){return le(a,b)}function If(a,b){return le(b,a)}H=Ef[r];
H.xb=function(a,b){var c=this.Xe(b),d=[null===c.c,null===c.u];if(!d[0]){var g=this.Bd(a,c.c);d[0]=c.$?1==g:-1!=g}d[1]||(g=this.Bd(a,c.u),d[1]=c.da?-1==g:1!=g);return d};H.compare=function(a,b){return this.Bd(a,b)};H.min=function(a,b){return a<b?1:a==b?0:-1};H.max=function(a,b){return a>b?1:a==b?0:-1};H.Qe=function(a,b){var c=this.xb(a,b);return c[0]&&c[1]};H.Og=function(a,b){return this.Pg(a,b)};H.lh=function(a){return a[Ga](function(a){return null!==a})[Za](J(function(a,c){return this.Pg(a,c)},this))};
H.Re=function(a){return Qb(this.Xe(a).c)};H.ee=function(a){a=this.Xe(a);return[a.c,a.u]};f(H,function(){return this.Bd==Gf?"SimpleComparator_DESC":"SimpleComparator_ASC"});function Ff(a){this.Ma=a.map(function(a){return new Ef(a)})}K(Ff,Yd);H=Ff[r];H.Ee=function(a,b,c){for(var d=0,g=0;g<this.Ma[C]&&0==d;++g)d=c(this.Ma[g],a[g],b[g]);return d};H.compare=function(a,b){return this.Ee(a,b,function(a,b,g){return a[Ab](b,g)})};H.min=function(a,b){return this.Ee(a,b,function(a,b,g){return a.min(b,g)})};
H.max=function(a,b){return this.Ee(a,b,function(a,b,g){return a.max(b,g)})};H.xb=function(a,b){for(var c=[!0,!0],d=0;d<this.Ma[C]&&(c[0]||c[1]);++d){var g=this.Ma[d].xb(a[d],b[d]);c[0]=c[0]&&g[0];c[1]=c[1]&&g[1]}return c};H.Qe=function(a,b){for(var c=!0,d=0;d<this.Ma[C]&&c;++d)c=this.Ma[d].Qe(a[d],b[d]);return c};
H.lh=function(a){var b=a[Ga](function(a){return a[Ua](Rb)});a=e(this.Ma[C]);for(var c=0;c<a[C];c++)a[c]=b.map(function(a){return a[c]});a[F](function(a,b){a[Za](J(function(a,c){return this.Ma[b].Og(a,c)},this))},this);b=e(b[C]);for(c=0;c<b[C];c++)b[c]=a.map(function(a){return a[c]});return b[Za](J(function(a,b){for(var c=0,l=0;l<this.Ma[C]&&0==c;++l)c=this.Ma[l].Og(a[l],b[l]);return c},this))};H.Re=function(a){return this.Ma[0].Re(a[0])};
H.ee=function(a){var b=a.map(function(a,b){return this.Ma[b].ee(a)[0]},this);a=a.map(function(a,b){return this.Ma[b].ee(a)[1]},this);return[b,a]};
function Kf(a){this.ra=a;this.sb=new O;this.od=new qf;this.vb=new qf}H=Kf[r];na(H,function(){return this.ra[t]()});H.add=function(a,b){null===a?(this.sb.add(b),this.od.add(a,1)):this.ra.add(a,b)};H.set=function(a,b){null===a?(this.sb[v](),this.od[v](),this.add(a,b)):this.ra.set(a,b)};va(H,function(a,b){if(null===a)b?(this.sb[w](b),this.od[w](a,1)):(this.sb[v](),this.od[v]());else this.ra[w](a,b)});H.get=function(a){return null===a?this.sb.f():this.ra.get(a)};H.Dd=function(a){return this.ra.Dd(a)};
H.ib=function(){this.vb.vl([this.ra.ib(),this.od]);return this.vb};H.pb=function(a,b,c,d){b=this.ra.pb(a,b,c,d);return null!=a?b:b[Sa](this.sb.f())};ta(H,function(){this.sb[v]();this.ra[v]()});H.C=function(a){return null===a?!this.sb.Wa():this.ra.C(a)};H.min=function(){return this.ra.min()};H.max=function(){return this.ra.max()};H.Ka=function(){return[new hd(-2,this.sb.f())][Sa](this.ra.Ka())};H.Mc=function(){return this.ra.Mc()};H.Na=function(){return this.ra.Na()};
function Lf(a){this.A=a;this.Fb=new mf;this.X=new Ef(1)}H=Lf[r];na(H,G("A"));H.add=function(a){if("number"!=typeof a)throw new P(103);this.Fb.add(a)};H.set=function(a,b){this.add(a,b)};va(H,function(a){this.Fb[Ya](a)});H.get=function(a){return this.C(a)?[a]:[]};H.min=function(){return this.fd(J(this.X.min,this.X))};H.max=function(){return this.fd(J(this.X.max,this.X))};
H.fd=function(a){if(0==this.Fb[Hb])return null;var b=nf(this.Fb)[Ka](J(function(b,d){return null===b||1==a(d,b)?d:b},this),null);return[b,[b]]};H.Dd=function(){return this.Fb[Hb]};H.pb=function(a,b,c,d){var g=a||[ke()];a=nf(this.Fb)[Ga](function(a){return g[ab](function(b){return this.X.Qe(a,b)},this)},this);return pf(a,b,c,d)};ta(H,function(){this.Fb[v]()});H.C=function(a){return this.Fb.has(a)};H.Ka=function(){return[new hd(0,nf(this.Fb))]};H.Mc=G("X");
function Mf(a,b){var c=new Lf(a);b[0].w()[F](function(a){c.add(a,a)});return c}H.Na=Kb(!0);H.ib=function(){throw new P(300);};
function Nf(a){this.m=a;this.Hb=a.o(Hd);this.J=a.o(Jd);this.ua=a.o(Id)}H=Nf[r];H.Ha=function(a){var b=a.ab(),c=J(function(){if(0==b[C])return Xc();var a=b[rb]();return(a.Lb()?this.aj(a):this.bj(a))[z](c)},this);return c()};H.bj=function(a){var b=new he(this.m,[a]);return this.Hb.Tb(0,b).M(a[t](),J(a.sc,a)).get([])[z](J(function(b){this.ua.set(a[t](),b);this.Tk(a,b)},this))};H.Tk=function(a,b){var c=this.J.Tj(a[t]());b[F](function(a){c[F](function(b){var c=a.Zb(b[t]());b.add(c,a.id())})})};
H.aj=function(a){var b=new he(this.m,[a]),c=this.Hb.Tb(0,b),b=c.M(a[t](),a.sc).get([])[z](J(function(b){this.ua.set(a[t](),b)},this)),d=a.za().map(function(a){return this.Uk(a,c)},this)[Sa](this.Vk(a,c));return ad(d[Sa](b))};
H.Uk=function(a,b){var c=b.M(a.l(),jd,1),d=Df(a);return c.get([])[z](J(function(b){L("btree"==b[0].w().type);if(1<b[C]){if(a.og()){var c=wf[E](void 0,d,a.l(),a.dd),l=b[m](1),p=-1;for(b=0;b<l[C];++b)if(-2==l[b].id()){p=b;break}if(-1==p)throw new P(102);b=l[p].w();l=l[m](0);l[A](p,1);c=c(l);c=new Kf(c);c.sb[hb](b)}else c=wf(d,a.l(),a.dd,b[m](1));this.J.set(c)}},this))};
H.Vk=function(a,b){return b.M(a.Vb(),jd,1).get([])[z](J(function(b){L("rowid"==b[0].w().type);1<b[C]&&(b=Mf(a.Vb(),b[m](1)),this.J.set(b))},this))};


function Of(){this.W=new N}Of[r].Ha=function(a){a.ab()[F](function(a){var c=a.Vb();if(null===this.get(c)){var d=new Lf(c);this.W.set(c,d)}a.za()[F](function(a){this.W.set(a.l(),Pf(a))},this)},this);return Xc()};function Pf(a){var b=Df(a),b=new rf(a.l(),b,a.dd);return a.og()?new Kf(b):b}Of[r].get=function(a){return this.W.get(a,null)};Of[r].set=function(a){return this.W.set(a[t](),a)};Of[r].Tj=function(a){var b=[],c=a+".";this.W.U()[F](function(a){0==a[$a](c)&&b[x](this.W.get(a))},this);return b};
function Qf(a){this.gb=[];Mb(a)&&this.add(a)}H=Qf[r];f(H,function(){return this.gb.map(function(a){return a[D]()})[La](",")});H.C=function(a){return this.gb[ab](function(b){return b[tb](a)})};H.f=G("gb");
H.add=function(a){if(0!=a[C])if(a=this.gb[Sa](a),1==a[C])this.gb=a;else{a[Za](le);for(var b=[],c=a[0],d=1;d<a[C];++d)if(c.Qg(a[d])){var g=a[d],k=ke();if(null!==c.c&&null!==g.c){var l=je(c.c,g.c,!0);1!=l?(k.c=c.c,k.$=0!=l?c.$:c.$&&g.$):(k.c=g.c,k.$=g.$)}null!==c.u&&null!==g.u&&(l=je(c.u,g.u,!1),-1!=l?(k.u=c.u,k.da=0!=l?c.da:c.da&&g.da):(k.u=g.u,k.da=g.da));c=k}else b[x](c),c=a[d];b[x](c);this.gb=b}};
H.Qc=function(a){return this.gb[C]==a.gb[C]?0==this.gb[C]||this.gb[Ua](function(b,c){return b.Qc(a.gb[c])}):!1};function Rf(a,b){var c=[];a.f().map(function(a){return b.f().map(function(b){var c;if(a.Qg(b)){c=ke();var l=je(a.c,b.c,!0),l=0==l?a.$?a:b:-1!=l?a:b;c.c=l.c;c.$=l.$;null===a.u||null===b.u?b=null===a.u?b:a:(l=je(a.u,b.u,!1),b=0==l?a.da?a:b:-1==l?a:b);c.u=b.u;c.da=b.da}else c=null;return c})})[F](function(a){c=c[Sa](a)});return new Qf(c[Ga](function(a){return null!==a}))};
function Sf(a,b){var c=[],d=null,g=null;a.Cc(function(a){var l=b(a);null==a[Bb]()?g=l:d.ma(l);var p=a[Bb]();null!==p&&p.xa()==d.xa()&&(p=c[$a](d),-1!=p&&c[A](p,1));1<a.xa()&&c[x](l);d=a.vg()?c[c[C]-1]:l});return g}function Tf(a){return Uf(a,function(a){return a.vg()})}function Vf(a){var b=a[Bb](),c=0;null!==b&&(c=b.ea()[$a](a),b[ib](a));var d=a.ea()[m]();d[F](function(d,k){a[ib](d);null===b||b.Ec(d,c+k)});return{parent:b,children:d}}
function Wf(a,b){a.ea()[m]()[F](function(c){a[ib](c);b.ma(c)});a.ma(b)}function Xf(a){L(1==a.xa());var b=a.zb(0);L(1==b.xa());Vf(a);Wf(b,a);return b}function Yf(a,b,c){L(1==a.xa());var d=a.zb(0);L(1<d.xa());var g=d.ea()[m]();if(!g[ab](function(a){return b(a)}))return a;Vf(a);g[F](function(g,l){if(b(g)){var p=c(a);d.fe(l);p.ma(g);d.Ec(p,l)}});return d}function Zf(a,b,c,d){var g=a[Bb]();null!==g&&(a=g.ea()[$a](a),g.fe(a),g.Ec(c,a));b.ea()[m]()[F](function(a){b[ib](a);d.ma(a)});return c}
function Uf(a,b,c){function d(a){b(a)&&g[x](a);null!=c&&c(a)||a.ea()[F](d)}var g=[];d(a);return g}function $f(a,b){var c=b||function(a){return a[D]()+"\n"},d="";a.Cc(function(a){for(var b=0;b<a.Aj();b++)d+="-";d+=c(a)});return d};

function ag(a){Fe[q](this);this.bc=a;this.eb=!1}K(ag,Fe);H=ag[r];H.Sb=function(){return Sf(this,function(a){if(a instanceof ag){var b=new ag(a.bc);b.eb=a.eb;b.of(a.fa());return b}return a.Sb()}[E](this))};H.ob=function(a){var b=a||[];this.Cc(function(a){a!=this&&a.ob(b)}[E](this));return(new O(b)).f()};H.ie=function(a){this.eb!=a&&(this.eb=a,this.bc="and"==this.bc?"or":"and",this.ea()[F](function(b){return b.ie(a)}))};H.eval=function(a){var b=this.ea().map(function(b){return b.eval(a)});return this.si(b)};
H.si=function(a){return"and"==this.bc?qe(a):re(a)};f(H,function(){return"combined_pred_"+this.bc[D]()});function bg(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b};function cg(){this[v]()}var dg=aa[r][Xa],eg=aa[r][sb];H=cg[r];H.set=function(a,b){this.ud(a);var c=!this.cd(a);this.g[a]=b;if("__proto__"==a||!fg&&!dg[q](this.g,a)){delete this.g[a];var d=ic(this.Ob,a);if(c=0>d)d=this.Ob[C];this.Ob[d]=a;this.ge[d]=b}c&&this.aa++};H.get=function(a,b){this.ud(a);if(this.cd(a))return this.g[a];var c=ic(this.Ob,a);return 0<=c?this.ge[c]:b};
va(H,function(a){this.ud(a);if(this.cd(a))return this.aa--,delete this.g[a],!0;a=ic(this.Ob,a);return 0<=a?(this.aa--,oc(this.Ob,a),oc(this.ge,a),!0):!1});H.addAll=function(a){jc(a.U(),function(b){this.set(b,a.get(b))},this)};H.Wa=function(){return!this.aa};H.ya=G("aa");H.C=function(a){this.ud(a);return this.cd(a)||0<=ic(this.Ob,a)};H.Cd=function(a){return Ac(this.g,function(b,c){return this.cd(c)&&bg(b,a)},this)||0<=ic(this.ge,a)};
H.U=function(){var a;if(gg)a=qc(aa.keys(this.g));else{a=[];for(var b in this.g)eg[q](this.g,b)&&a[x](b)}rc(a,this.Ob);return a};H.f=function(){for(var a=[],b=this.U(),c=0;c<b[C];c++)a[x](this.get(b[c]));return a};H.getEntries=function(){for(var a=[],b=this.U(),c=0;c<b[C];c++){var d=b[c];a[x]([d,this.get(d)])}return a};ta(H,function(){this.g=fg?aa[kb](null):{};this.Ob=[];this.ge=[];this.aa=0});la(H,function(){var a=new cg;a[hb](this);return a});
H.cd=function(a){return"__proto__"==a?!1:fg?a in this.g:eg[q](this.g,a)};H.ud=function(a){L(Tb(a),"key must be a string.")};var fg=!!aa[kb],gg=!!aa.keys;function hg(){this[v]()}H=hg[r];H.aa=0;ta(H,function(){this.aa=0;this.g=new cg});la(H,function(){var a=new hg;a.zh(this);return a});H.add=function(a,b){var c=this.g.get(a);c||this.g.set(a,c=[]);c[x](b);this.aa++};H.zh=function(a){jc(a.getEntries(),function(a){this.add(a[0],a[1])},this)};H.get=function(a){return(a=this.g.get(a))?qc(a):[]};va(H,function(a,b){var c=this.g.get(a);if(!c)return!1;var d=pc(c,function(a){return bg(b,a)});d&&(this.aa--,0==c[C]&&this.g[w](a));return d});H.Wa=function(){return!this.aa};
H.ya=G("aa");H.C=function(a){return this.g.C(a)};H.Cd=function(a){return mc(this.g.f(),function(b){return mc(b,function(b){return bg(b,a)})})};H.U=function(){return this.g.U()};H.f=function(){return yc(this.g.f())};H.getEntries=function(){for(var a=this.U(),b=[],c=0;c<a[C];c++)for(var d=a[c],g=this.get(d),k=0;k<g[C];k++)b[x]([d,g[k]]);return b};
function ig(a,b,c){Fe[q](this);this.Oa=a;this.Ea=b;this.L=c;this.Ye=null;this.Fd=xe.He().Fe(this.Oa.Z(),this.L)}K(ig,Fe);H=ig[r];H.Sb=function(){var a=new ig(this.Oa,this.Ea,this.L);a.of(this.fa());return a};H.ob=function(a){return null!=a?(a[x](this.Oa),a[x](this.Ea),a):[this.Oa,this.Ea]};H.reverse=function(){var a=this.L;switch(this.L){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new ig(this.Ea,this.Oa,a)};
H.eval=function(a){var b=a[B][Ga](function(a){var b=a.S(this.Oa);a=a.S(this.Ea);return this.Fd(b,a)},this);return new me(b,a.Y())};f(H,function(){return"join_pred("+this.Oa.l()+", "+this.Ea.l()+")"});H.Ff=function(a){return-1!=a.Y()[$a](this.Oa.M().qa())};H.Hh=function(a){return-1!=a.Y()[$a](this.Ea.M().qa())};H.Hi=function(a,b){var c=null,d=null;this.Ff(a)?(this.Hf(a,b),c=a,d=b):(this.Hf(b,a),c=b,d=a);return[c,d]};
H.Hf=function(a,b){L(this.Ff(a),"Mismatch between join predicate left operand and right relation.");L(this.Hh(b),"Mismatch between join predicate right operand and right relation.")};H.Oi=function(a,b,c){var d=[a,b];c||(d=this.Hi(a,b));a=d[0];d=d[1];return"eq"==this.L?this.Pi(a,d,c):this.Qi(a,d,c)};H.zi=function(a){var b={};a.ob()[F](function(a){b[a[t]()]=null});return b};H.Sf=function(a,b){null===this.Ye&&(this.Ye=this.zi(this.Ea.M()));var c=new te(new hd(-1,this.Ye),!1);return ve(a,b,c,[this.Ea.M().qa()])};
H.Qi=function(a,b,c){for(var d=[],g=a.Y(),k=b.Y(),l=0;l<a[B][C];l++){for(var p=!1,y=0;y<b[B][C];y++)if(this.Fd(a[B][l].S(this.Oa),b[B][y].S(this.Ea))){var p=!0,wa=ve(a[B][l],g,b[B][y],k);d[x](wa)}c&&!p&&d[x](this.Sf(a[B][l],g))}a=a.Y()[Sa](b.Y());return new me(d,a)};
H.Pi=function(a,b,c){var d=a,g=b,k=this.Oa,l=this.Ea;if(c||a[B][C]>b[B][C])d=b,g=a,k=this.Ea,l=this.Oa;var p=new hg,y=[];d[B][F](function(a){var b=ha(a.S(k));p.add(b,a)});var wa=d.Y(),qb=g.Y();g[B][F](function(a){var b=ha(a.S(l));p.C(b)?p.get(b)[F](function(b){b=ve(a,qb,b,wa);y[x](b)}):c&&y[x](this.Sf(a,qb))}[E](this));a=a.Y()[Sa](b.Y());return new me(y,a)};
function jg(a,b,c){return null===b?new He(a,b,c):Mb(b.l)?new ig(a,b,c):new He(a,b,c)};
var kg={};I("lf.schema.DataStoreType",kg,void 0);kg.INDEXED_DB=0;kg.MEMORY=1;kg.LOCAL_STORAGE=2;kg.FIREBASE=3;kg.WEB_SQL=4;kg.OBSERVABLE_STORE=5;function lg(a,b,c,d){this.rf=a;ja(this,b);this.dd=c;this.h=d}lg[r].l=function(){return this.rf+"."+this[n]};lg[r].og=function(){return this.h[ab](function(a){return a.ga.Yb()})};function S(a,b,c,d){this.A=a;this.ia=c;this.H=b;this.ae=d;this.lb=null}I("lf.schema.Table",S,void 0);na(S[r],G("A"));na(S[r],S[r][t]);S[r].cb=G("lb");
S[r].qa=function(){return this.lb||this.A};S[r].Gc=function(a){var b=new this.constructor(this.A);b.lb=a;b.Wk=this.Wk;return b};S[r].as=S[r].Gc;S[r].createRow=S[r].Ib;S[r].deserializeRow=S[r].sc;S[r].za=G("ia");S[r].getIndices=S[r].za;S[r].ob=G("H");S[r].getColumns=S[r].ob;S[r].getConstraint=S[r].Jb;S[r].Lb=G("ae");S[r].persistentIndex=S[r].Lb;S[r].Vb=function(){return this.A+".#"};
function T(a,b){xa(this,a);this.lc=b;this.lb=null}H=T[r];na(H,function(){return this.lc+"("+this[jb][t]()+")"});H.l=function(){return this.lc+"("+this[jb].l()+")"};H.M=function(){return this[jb].M()};f(H,function(){return this.l()});H.Z=function(){return this[jb].Z()};H.cb=G("lb");H.za=function(){return[]};H.Yb=Kb(!1);H.Gc=function(a){this.lb=a;return this};T[r].as=T[r].Gc;T[r].cg=function(){for(var a=[this],b=this;b instanceof T;)a[x](b[jb]),b=b[jb];return a};
function mg(a){this.lb=a||null;this.O=new S("#UnknownTable",[],[],!1)}H=mg[r];na(H,Kb("*"));H.l=function(){return this[t]()};f(H,function(){return this.l()});H.M=G("O");H.Z=Kb(4);H.cb=G("lb");H.za=function(){return[]};H.Yb=Kb(!1);
I("lf.fn.avg",function(a){return new T(a,"AVG")},void 0);I("lf.fn.count",function(a){return new T(a||new mg,"COUNT")},void 0);function ng(a){return new T(a,"DISTINCT")}I("lf.fn.distinct",ng,void 0);I("lf.fn.max",function(a){return new T(a,"MAX")},void 0);I("lf.fn.min",function(a){return new T(a,"MIN")},void 0);I("lf.fn.stddev",function(a){return new T(a,"STDDEV")},void 0);I("lf.fn.sum",function(a){return new T(a,"SUM")},void 0);I("lf.fn.geomean",function(a){return new T(a,"GEOMEAN")},void 0);
function U(a,b){De[q](this,"","");this.Yi=b;this.Mg=a}K(U,De);H=U[r];ma(H,function(a,b){switch(this.Yi){case 1:return this.Ti(a,b);case 0:return this.Si(a,b);default:return this.Vi(a,b)}});f(H,Kb("dummy_node"));H.pd=function(){return this[D]()};H.Gf=function(a){L(-1==this.Mg||a[C]==this.Mg)};H.Vi=function(a,b){return new M(J(function(c){c(this.na(a,[],b))},this))};H.Ti=function(a,b){return this.zb(0)[Qa](a,b)[z](J(function(c){this.Gf(c);return this.na(a,c,b)},this))};
H.Si=function(a,b){var c=this.ea().map(function(c){return c[Qa](a,b)});return ad(c)[z](J(function(c){var g=[];c[F](function(a){for(var b=0;b<a[C];++b)g[x](a[b])});this.Gf(g);return this.na(a,g,b)},this))};
function og(a){U[q](this,-1,1);this.Df=a}K(og,U);f(og[r],function(){return"aggregation("+this.Df.map(function(a){return a.l()})[D]()+")"});og[r].na=function(a,b){b[F](function(a){(new pg(a,this.Df)).Uh()},this);return b};function pg(a,b){this.Ja=a;this.H=b}pg[r].Uh=function(){this.H[F](function(a){a=a.cg()[fb]();for(var b=1;b<a[C];b++){var c=a[b],d=c.cg()[m](-1)[0],g=this.Dj(c),d=qg(c.lc,g,d);this.Ja.el(c,d)}},this)};pg[r].Dj=function(a){return a[jb]instanceof T?this.Ja.wc(a[jb]):this.Ja};
function qg(a,b,c){var d=null;switch(a){case "MIN":d=rg(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=rg(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=sg(b,c);break;case "COUNT":d=tg(b,c);break;case "SUM":d=ug(b,c);break;case "AVG":0<b[B][C]&&(d=ug(b,c)/b[B][C]);break;case "GEOMEAN":d=vg(b,c);break;default:d=wg(b,c)}return d}function rg(a,b,c){return a[B][Ka](function(a,g){var k=g.S(b);return null===k?a:null===a?k:c(a,k)},null)}
function tg(a,b){return b instanceof mg?a[B][C]:a[B][Ka](function(a,d){return a+(Qb(d.S(b))?0:1)},0)}function ug(a,b){return a[B][Ka](function(a,d){return a+d.S(b)},0)}function wg(a,b){var c=a[B].map(function(a){return a.S(b)});return ud[xb](null,c)}function vg(a,b){var c=0,d=a[B][Ka](function(a,d){var l=d.S(b);return 0!=l?(c++,a+ba.log(l)):a},0);return 0==c?null:ba.pow(ba.E,d/c)}function sg(a,b){var c=new N;a[B][F](function(a){var g=a.S(b);c.set(g,a)});return new me(c.f(),a.Y())};
function xg(a,b){this.Fa=a;this.ta=b}xg[r].qb=G("Fa");xg[r].ha=G("ta");function V(){De[q](this,"","")}K(V,De);function yg(a,b){V[q](this);ia(this,a);ua(this,b)}K(yg,V);function zg(a,b){yg[q](this,a,b)}K(zg,yg);function Ag(a){V[q](this);ia(this,a)}K(Ag,V);f(Ag[r],function(){return"delete("+this[h][t]()+")"});function Bg(a,b){V[q](this);ia(this,a);this.wf=b}K(Bg,V);f(Bg[r],function(){var a=[];this.wf&&(a=this.wf.map(function(a){return a.K[t]()},this));return"update("+this[h][t]()+", ["+a[La](",")+"])"});
function Cg(a){V[q](this);this.Da=a}K(Cg,V);f(Cg[r],function(){return"select("+this.Da[D]()+")"});function Dg(a){V[q](this);ia(this,a)}K(Dg,V);f(Dg[r],function(){var a="table_access("+this[h][t]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});function Eg(){V[q](this)}K(Eg,V);f(Eg[r],Kb("cross_product"));function Fg(a,b){V[q](this);this.h=a;this.Wb=b}K(Fg,V);
f(Fg[r],function(){var a="project("+this.h[D]();if(null!==this.Wb)var b=this.Wb.map(function(a){return a.l()})[La](", "),a=a+(", groupBy("+b+")");return a+")"});function Gg(a){V[q](this);this.N=a}K(Gg,V);f(Gg[r],function(){return"order_by("+Le(this.N)+")"});function Hg(a){V[q](this);this.h=a}K(Hg,V);f(Hg[r],function(){return"aggregation("+this.h[D]()+")"});function Ig(a){V[q](this);this.h=a}K(Ig,V);f(Ig[r],function(){return"group_by("+this.h[D]()+")"});function Jg(a){V[q](this);this.ba=a}K(Jg,V);
f(Jg[r],function(){return"limit("+this.ba+")"});function Kg(a){V[q](this);this.V=a}K(Kg,V);f(Kg[r],function(){return"skip("+this.V+")"});function Lg(a,b){V[q](this);this.Da=a;this.yg=b}K(Lg,V);f(Lg[r],function(){return(this.yg?"left_outer_join":"join")+"("+this.Da[D]()+")"});
function Mg(){};
function Ng(){}K(Ng,Mg);Ng[r].Mb=function(a){this.la=a;this.bb(this.la);return this.la};Ng[r].bb=function(a){if(a instanceof Cg){L(1==a.xa(),"SelectNode must have exactly one child.");var b=this.If(a.Da),b=this.Bi(b);Zf(a,a,b[0],b[1]);a==this.la&&(this.la=b[0]);a=b[0]}a.ea()[F](function(a){this.bb(a)},this)};Ng[r].If=function(a){if(0==a.xa()||"and"!=a.bc)return[a];var b=a.ea()[m]().map(function(b){a[ib](b);return this.If(b)},this);return yc(b)};
Ng[r].Bi=function(a){var b=null,c=null;a.map(function(a,g){var k=new Cg(a);0==g?b=k:c.ma(k);c=k},this);return[b,c]};
function Og(){}K(Og,Mg);Og[r].Mb=function(a){this.la=a;this.bb(this.la);return this.la};Og[r].bb=function(a){if(a instanceof Eg)for(;2<a.xa();){for(var b=new Eg,c=0;2>c;c++){var d=a.fe(0);b.ma(d)}a.Ec(b,0)}a.ea()[F](function(a){this.bb(a)},this)};
function Pg(){U[q](this,2,0)}K(Pg,U);f(Pg[r],Kb("cross_product"));Pg[r].na=function(a,b){for(var c=b[0],d=b[1],g=[],k=c.Y(),l=d.Y(),p=0;p<c[B][C];p++)for(var y=0;y<d[B][C];y++){var wa=ve(c[B][p],k,d[B][y],l);g[x](wa)}c=c.Y()[Sa](d.Y());return[new me(g,c)]};

function Qg(a,b){Oe[q](this,a,b);this.$a=a.o(Ld);this.Kb=a.o(Md)}K(Qg,Oe);Ea(Qg[r],Kb(2));Qg[r].af=function(a){0==this.Z()?this.Dk(a):this.md()};Qg[r].Dk=function(a){this.de[F](function(b,c){b instanceof Ke&&this.Kb.uh(b,a[c])},this)};Qg[r].md=function(){var a=this.Kb.Me(this.ha().f());0!=a[C]&&(a=new Pe(this[Wa],a),this.$a.gc(a))};
function Rg(a){Ie[q](this,a)}K(Rg,Ie);Rg[r].ha=function(){var a=new O([this.c]);a[hb](this.ga[zb]().bg(this.c[t]()));return a};la(Rg[r],function(){var a=new Rg(this.ga);a.Ad(this);a.c=this.c;return a});Ba(Rg[r],function(a){Rg.Pb[E][q](this,a);this.re(a);return this});
function Sg(a){Ie[q](this,a)}K(Sg,Ie);Sg[r].ha=function(){var a=new O([this.Ia]),b=this.ga[zb]();a[hb](b.Jj(this.Ia[t]()));this.mc&&a[hb](b.bg(this.Ia[t]()));return a};la(Sg[r],function(){var a=new Sg(this.ga);a.Ad(this);a.Ia=this.Ia;this[db]&&ua(a,this[db]instanceof we?this[db]:this[db][m]());a.mc=this.mc;a.nc=this.nc;return a});Ba(Sg[r],function(a){Sg.Pb[E][q](this,a);this.nc&&ua(this,this.nc instanceof we?a[this.nc.Ab()]:this.nc.map(function(b){return b instanceof we?a[b.Ab()]:b}));return this});
function Tg(a){Ie[q](this,a)}K(Tg,Ie);Tg[r].ha=function(){var a=new O([this[h]]),b=this.set.map(function(a){return a.K.l()}),c=this.ga[zb]();a[hb](c.Kj(b));a[hb](c.zj(b));return a};la(Tg[r],function(){var a=new Tg(this.ga);a.Ad(this);ia(a,this[h]);a.set=this.set?this.set[m]():this.set;return a});Ba(Tg[r],function(a){Tg.Pb[E][q](this,a);this.set[F](function(b){-1!=b.vd&&pa(b,a[b.vd])});this.re(a);return this});
function Ug(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+ld(b)+"'";default:return"'"+b[D]()+"'"}}function Vg(a,b){var c=a.mc?"INSERT OR REPLACE":"INSERT",d=a.Ia.ob(),c=c+(" INTO "+a.Ia[t]()+"("),c=c+d.map(function(a){return a[t]()})[La](", "),c=c+") VALUES (";return a[db].map(function(a){var k=d.map(function(c){var d=a.w()[c[t]()];return b?null!=d?"#":"NULL":Ug(c.Z(),d)});return c+k[La](", ")+");"})[La]("\n")}
function Wg(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Xg(a,b,c,d){return a instanceof we?"?"+a.Ab()[D]():d?null!=a?"#":"NULL":"match"==b?"'"+a[D]()+"'":"in"==b?"("+a.map(function(a){return Ug(c,a)})[La](", ")+")":"between"==b?Ug(c,a[0])+" AND "+Ug(c,a[1]):Ug(c,a)[D]()}
function Yg(a,b){return a.ea().map(function(a){return"("+Zg(a,b)+")"})[La]("and"==a.bc?" AND ":" OR ")}function Zg(a,b){if(a instanceof He)return[a.K.l(),Wg(a.L),Xg(a[u],a.L,a.K.Z(),b)][La](" ");if(a instanceof ag)return Yg(a,b);if(a instanceof ig)return[a.Oa.l(),Wg(a.L),a.Ea.l()][La](" ");throw new P(357,typeof a);}function $g(a,b){var c=Zg(a,b);return c?" WHERE "+c:""}
function ah(a,b){var c="UPDATE "+a[h][t]()+" SET ",c=c+a.set.map(function(a){var b=a.K.l()+" = ";return-1!=a.vd?b+"?"+a.vd[D]():b+Ug(a.K.Z(),a[u])[D]()})[La](", ");a.F&&(c+=$g(a.F,b));return c+";"}
function bh(a,b){var c="*";a.h[C]&&(c=a.h.map(function(a){return a.cb()?a.l()+" AS "+a.cb():a.l()})[La](", "));var d=a.c.map(function(a){return a.qa()!=a[t]()?a[t]()+" AS "+a.qa():a[t]()})[La](", "),c="SELECT "+c+" FROM "+d;a.F&&(c+=$g(a.F,b));a.N&&(d=a.N.map(function(a){return a.K.l()+(0==a.tb?" DESC":" ASC")})[La](", "),c+=" ORDER BY "+d);a.oa&&(d=a.oa.map(function(a){return a.l()})[La](", "),c+=" GROUP BY "+d);a.ba&&(c+=" LIMIT "+a.ba[D]());a.V&&(c+=" SKIP "+a.V[D]());return c+";"}
function ch(a,b){var c=b||!1,d=a.ig();if(d instanceof Sg)return Vg(d,c);if(d instanceof Rg){var g="DELETE FROM "+d.c[t]();d.F&&(g+=$g(d.F,c));return g+";"}if(d instanceof Tg)return ah(d,c);if(d instanceof Ke)return bh(d,c);throw new P(358,typeof d);};
function dh(a,b){this.global=a;this.Rk=a.o(Kd);this.$a=a.o(Ld);this.a=b}I("lf.query.BaseBuilder",dh,void 0);ma(dh[r],function(){try{this.mb()}catch(a){return Yc(a)}return new M(function(a,c){var d=new Qg(this[Wa],[this.ad()]);this.$a.gc(d)[z](function(c){a(c[0].Ie())},c)},this)});ma(dh[r],dh[r][Qa]);dh[r].$f=function(){var a=J(function(a){return a.pd(this.a)+"\n"},this);return $f(this.Je().qb(),a)};dh[r].explain=dh[r].$f;Ba(dh[r],function(a){this.a[E](a);return this});Ba(dh[r],dh[r][E]);
dh[r].rl=function(a){return ch(this,a)};dh[r].toSql=dh[r].rl;H=dh[r];H.mb=Ib();H.ig=function(){return this.a.clone()};H.Nd=G("a");H.Je=function(){null==this.Sg&&(this.Sg=this.Rk.Lj(this.a));return this.Sg};H.ad=function(){return{context:this.ig(),df:this.Je()}};H.Hj=function(){return{context:this.Nd(),df:this.Je()}};
function eh(a){dh[q](this,a,new Rg(a.o(Nd)))}K(eh,dh);I("lf.query.DeleteBuilder",eh,void 0);eh[r].c=function(a){this.Lh();this.a.c=a;return this};eh[r].from=eh[r].c;eh[r].F=function(a){this.pe();this.a.F=a;return this};eh[r].where=eh[r].F;eh[r].Lh=function(){if(null!=this.a.c)throw new P(515);};eh[r].pe=function(){if(null!=this.a.F)throw new P(516);};eh[r].mb=function(){eh.Pb.mb[q](this);if(null==this.a.c)throw new P(517);};
function fh(a,b){dh[q](this,a,new Sg(a.o(Nd)));this.a.mc=b||!1}K(fh,dh);I("lf.query.InsertBuilder",fh,void 0);fh[r].mb=function(){fh.Pb.mb[q](this);var a=this.a;if(null==a.Ia||null==a[db])throw new P(518);if(a.mc&&null===a.Ia.Jb().Pd())throw new P(519);};fh[r].Ia=function(a){this.Mh();this.a.Ia=a;return this};fh[r].into=fh[r].Ia;ua(fh[r],function(a){this.Nh();a instanceof we||a[ab](function(a){return a instanceof we})?this.a.nc=a:ua(this.a,a);return this});ua(fh[r],fh[r][db]);
fh[r].Mh=function(){if(null!=this.a.Ia)throw new P(520);};fh[r].Nh=function(){if(null!=this.a[db])throw new P(521);};
function gh(a){return hh("and",e[r][m][q](arguments))}I("lf.op.and",gh,void 0);I("lf.op.or",function(a){return hh("or",e[r][m][q](arguments))},void 0);function hh(a,b){var c=new ag(a);b[F](function(a){c.ma(a)});return c}I("lf.op.not",function(a){a.ie(!0);return a},void 0);
function W(a,b){dh[q](this,a,new Ke(a.o(Nd)));this.ag=this.xh=!1;this.a.h=b;this.bi();this.$h()}K(W,dh);I("lf.query.SelectBuilder",W,void 0);H=W[r];H.mb=function(){W.Pb.mb[q](this);var a=this.a;if(null==a.c)throw new P(522);if(Mb(a.$b)&&!Mb(a.ba)||Mb(a.jc)&&!Mb(a.V))throw new P(523);this.mi()};H.bi=function(){var a=this.a.h[Ga](function(a){return a instanceof T&&"DISTINCT"==a.lc},this);if(0!=a[C]&&(1!=a[C]||1!=this.a.h[C]))throw new P(524);};H.mi=function(){null!=this.a.oa?this.fi():this.li()};
H.fi=function(){var a=this.a.h[Ga](function(a){return!(a instanceof T)}).map(function(a){return a.l()}),b=!1;if(0==this.a.oa[C]||0==this.a.h[C])b=!0;else{var c=this.a.oa.map(function(a){return a.l()});(b=a[ab](function(a){return-1==c[$a](a)}))||(b=this.a.oa[ab](function(a){a=a.Z();return 6==a||0==a}))}if(b)throw new P(525);};
H.li=function(){var a=this.a.h[ab](function(a){return a instanceof T},this),b=this.a.h[ab](function(a){return!(a instanceof T)},this)||0==this.a.h[C];if(a&&b)throw new P(526);};H.$h=function(){this.a.h[F](function(a){if(a instanceof T&&!ih(a.lc,a.Z()))throw new P(527,a.l());},this)};H.c=function(a){if(this.ag)throw new P(515);this.ag=!0;null==this.a.c&&(this.a.c=[]);this.a.c[x][xb](this.a.c,e[r][m][q](arguments));return this};W[r].from=W[r].c;
W[r].F=function(a){if(this.xh)throw new P(516);this.xh=!0;this.qe(a);return this};W[r].where=W[r].F;W[r].qe=function(a){null!=this.a.F&&(a=gh(a,this.a.F));this.a.F=a};W[r].kk=function(a,b){if(null==this.a.c)throw new P(542);this.a.c[x](a);this.qe(b);return this};W[r].innerJoin=W[r].kk;
W[r].sk=function(a,b){if(!(b instanceof ig))throw new P(541);if(null==this.a.c)throw new P(542);this.a.c[x](a);null==this.a.zc&&(this.a.zc=new O);var c=b;a.qa()!=b.Ea.M().qa()&&(c=b[fb]());this.a.zc.add(c.fa());this.qe(c);return this};W[r].leftOuterJoin=W[r].sk;W[r].ba=function(a){if(null!=(this.a.ba||this.a.$b))throw new P(528);if(a instanceof we)this.a.$b=a;else{if(0>a)throw new P(531);this.a.ba=a}return this};W[r].limit=W[r].ba;
W[r].V=function(a){if(null!=(this.a.V||this.a.jc))throw new P(529);if(a instanceof we)this.a.jc=a;else{if(0>a)throw new P(531);this.a.V=a}return this};W[r].skip=W[r].V;W[r].N=function(a,b){null==this.a.N&&(this.a.N=[]);this.a.N[x]({K:a,tb:null!=b?b:1});return this};W[r].orderBy=W[r].N;W[r].oa=function(a){if(null!=this.a.oa)throw new P(530);null==this.a.oa&&(this.a.oa=[]);this.a.oa[x][xb](this.a.oa,e[r][m][q](arguments));return this};W[r].groupBy=W[r].oa;
function ih(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}la(W[r],function(){var a=new W(this[Wa],this.a.h);a.a=this.a.clone();a.a.Kc=null;return a});la(W[r],W[r].clone);
function jh(a,b){dh[q](this,a,new Tg(a.o(Nd)));ia(this.a,b)}K(jh,dh);I("lf.query.UpdateBuilder",jh,void 0);jh[r].set=function(a,b){var c={vd:b instanceof we?b.Ab():-1,K:a,value:b};null!=this.a.set?this.a.set[x](c):this.a.set=[c];return this};jh[r].set=jh[r].set;jh[r].F=function(a){this.pe();this.a.F=a;return this};jh[r].where=jh[r].F;jh[r].pe=function(){if(null!=this.a.F)throw new P(516);};
jh[r].mb=function(){jh.Pb.mb[q](this);if(null==this.a.set)throw new P(532);if(this.a.set[ab](function(a){return a[u]instanceof we}))throw new P(501);};
function kh(a){this.a=a;this.Fa=null}kh[r].vc=function(){null===this.Fa&&(this.Fa=this.Id());return this.Fa};function lh(a){kh[q](this,a)}K(lh,kh);lh[r].Id=function(){return this.a.mc?new zg(this.a.Ia,this.a[db]):new yg(this.a.Ia,this.a[db])};function mh(a){kh[q](this,a)}K(mh,kh);mh[r].Id=function(){var a=new Bg(this.a[h],this.a.set),b=null!=this.a.F?new Cg(this.a.F.Sb()):null,c=new Dg(this.a[h]);null===b?a.ma(c):(b.ma(c),a.ma(b));return a};
function nh(a,b,c){this.Fa=a;this.ff=b;this.lf=c}nh[r].vc=function(){this.lf[F](function(a){this.Fa=a.Mb(this.Fa,this.ff)},this);return this.Fa};
function oh(a){kh[q](this,a)}K(oh,kh);oh[r].Id=function(){var a=new Ag(this.a.c),b=null!=this.a.F?new Cg(this.a.F.Sb()):null,c=new Dg(this.a.c);null===b?a.ma(c):(b.ma(c),a.ma(b));return(new nh(a,this.a,[new Ng])).vc()};
function ph(){}K(ph,Mg);ph[r].Mb=function(a,b){this.la=a;this.bb(this.la,b);return this.la};ph[r].bb=function(a,b){if(a instanceof Cg&&a.Da instanceof ig){L(1==a.xa(),"SelectNode must have exactly one child.");var c=a.Da.fa(),d=a.zb(0);d instanceof Eg&&(c=Mb(b)&&null!=b.zc&&b.zc[tb](c),c=new Lg(a.Da,c),Zf(a,d,c,c),a==this.la&&(this.la=c),a=c)}a.ea()[F](function(a){this.bb(a,b)},this)};
function qh(){this.ne=new O}K(qh,Mg);H=qh[r];H.Mb=function(a){this.la=a;this.bb(this.la);this.ne[v]();return this.la};H.bb=function(a){if(this.tg(a)){var b=a.Da instanceof He?this.Qk(a):this.Pk(a);this.ne.add(a);b==a&&(b=a.zb(0));null!==b&&(Qb(b[Bb]())&&(this.la=b),this.tg(b)&&!this.ne[tb](b)&&this.bb(b))}else a.ea()[F](function(a){this.bb(a)},this)};
H.ce=function(a,b){var c=a;if(this.il(a))c=Xf(a),this.ce(a,b);else if(this.hl(a)){var d=[],c=Yf(a,b,function(a){a=new Cg(a.Da);d[x](a);return a});d[F](function(a){this.ce(a,b)},this)}return c};H.Qk=function(a){var b=new O([a.Da.K.M().qa()]),c=function(a){return this.Xf(a,b)}[E](this);return this.ce(a,c)};H.Pk=function(a){var b=new O([a.Da.Oa.M().qa(),a.Da.Ea.M().qa()]),c=function(a){return this.Xf(a,b)}[E](this);return this.ce(a,c)};
H.Xf=function(a,b){var c=new O;Tf(a)[F](function(a){c.add(a[h].qa())},this);a instanceof Dg&&c.add(a[h].qa());return c.xi(b)};H.tg=function(a){return a instanceof Cg&&!(a.Da instanceof ag)};H.hl=function(a){a=a.zb(0);return a instanceof Eg||a instanceof Lg};H.il=function(a){return a.zb(0)instanceof Cg};
function rh(a){kh[q](this,a);this.Xg=this.Hg=this.kh=this.Ng=this.Ef=this.ng=this.gh=this.Uf=this.mh=null}K(rh,kh);H=rh[r];H.Id=function(){this.qj();var a=this.ui(),b=[new Ng,new Og,new qh,new ph];return(new nh(a,this.a,b)).vc()};H.qj=function(){this.wj();this.lj();this.uj();this.rj();this.vj();this.pj();this.nj();this.kj();this.sj()};
H.ui=function(){for(var a=[this.Hg,this.kh,this.Xg,this.Ng,this.Ef,this.ng,this.gh,this.Uf],b=null,c=null,d=0;d<a[C];d++){var g=a[d];null!==g&&(null===c?c=g:a[b].ma(g),b=d)}this.mh[F](function(c){a[b].ma(c)});return c};H.wj=function(){this.mh=this.a.c.map(function(a){return new Dg(a)},this)};H.lj=function(){2<=this.a.c[C]&&(this.Uf=new Eg)};H.uj=function(){this.gh=null!=this.a.F?new Cg(this.a.F.Sb()):null};H.rj=function(){this.a.N&&(this.Ng=new Gg(this.a.N))};
H.pj=function(){null!=this.a.ba&&(this.Hg=new Jg(this.a.ba))};H.vj=function(){null!=this.a.V&&0<this.a.V&&(this.kh=new Kg(this.a.V))};H.nj=function(){null!=this.a.oa&&(this.ng=new Ig(this.a.oa))};H.kj=function(){var a=this.a.h[Ga](function(a){return a instanceof T});null!=this.a.N&&this.a.N[F](function(b){b.K instanceof T&&a[x](b.K)});0<a[C]&&(this.Ef=new Hg(a))};H.sj=function(){this.Xg=new Fg(this.a.h||[],this.a.oa||null)};
function sh(){}sh[r].create=function(a){var b=null;if(a instanceof Sg)b=new lh(a);else if(a instanceof Rg)b=new oh(a);else if(a instanceof Ke)b=new rh(a);else if(a instanceof Tg)b=new mh(a);else throw new P(513);b=b.vc();return new xg(b,a.ha())};
function th(a){U[q](this,1,1);this.O=a}K(th,U);f(th[r],function(){return"delete("+this.O[t]()+")"});th[r].na=function(a,b){var c=b[0][B].map(function(a){return a.wa});a[w](this.O,c);return[pe()]};
function uh(a){U[q](this,1,1);this.mg=a}K(uh,U);f(uh[r],function(){return"groupBy("+this.mg.map(function(a){return a.l()})[D]()+")"});uh[r].na=function(a,b){return this.Wh(b[0])};uh[r].Wh=function(a){var b=new hg,c=function(a){return this.mg.map(function(b){return a.S(b)},this)[La](",")}[E](this);a[B][F](function(a){b.add(c(a),a)},this);return b.U().map(function(c){return new me(b.get(c),a.Y())},this)};
function vh(a){L(1<a[C],"Should only be called for cross-column indices.");a=a.map(function(a){return a.f()});a=zd[xb](null,a);var b=[];yd(a,function(a){b[x](a)});return b}function wh(a){this.Xb=a}wh[r].Ld=function(){return 1==this.Xb.h[C]?[ke()]:[this.Xb.h.map(function(){return ke()})]};function xh(a,b){this.Xb=a;this.va=b;this.ye=this.Fg=null}
xh[r].Xh=function(a){var b=new N;this.va.U()[F](function(c){var d=this.va.get(c).map(function(b){return a.Od(b)},this),g=new Qf([ke()]);d[F](function(a){a=new Qf(a.ql());g=Rf(g,a)});b.set(c,g)},this);return b};xh[r].cj=function(a){for(var b=this.Xb.h[C]-1;0<=b;b--){var c=this.Xb.h[b];if(null!==a.get(c.ga[t](),null))break;a.set(c.ga[t](),new Qf([ke()]))}};xh[r].Ld=function(a){if(this.Fg==a)return this.ye;var b=this.Xh(a);this.cj(b);this.ye=1==this.Xb.h[C]?b.f()[0].f():vh(this.Sj(b));this.Fg=a;return this.ye};
xh[r].Sj=function(a){var b=new N,c=0;this.Xb.h[F](function(a){b.set(a.ga[t](),c);c++});return a.U()[Za](function(a,c){return b.get(a)-b.get(c)}).map(function(b){return a.get(b)})};
function yh(a,b){this.oh=b;this.J=a.o(Jd)}yh[r].pi=function(a,b){var c=b[Ga](this.lk,this);if(0==c[C])return null;c=this.oj(c);if(0==c[C])return null;if(1==c[C])return c[0];var d=Number.MAX_VALUE;return c[Ka](function(b,c){var l=c.Vh(a);return l<d?(d=l,c):b},null)};yh[r].oj=function(a){return this.oh.za().map(function(b){b=new zh(this.J,b);b.wi(a);return b},this)[Ga](function(a){return a.rk()})};yh[r].lk=function(a){return a instanceof He&&a.ug()?a.K.M()==this.oh:!1};
function zh(a,b){this.J=a;this.Cb=b;this.pg=new O;this.pg[hb](this.Cb.h.map(function(a){return a.ga[t]()}));this.Ve=this.va=null}H=zh[r];H.Mj=function(){return null===this.va?[]:this.va.f()};H.gg=function(){L(this.va);null===this.Ve&&(this.Ve=new xh(this.Cb,this.va));return this.Ve};H.wi=function(a){a[F](function(a){var c=a.ob()[0][t]();this.pg[tb](c)&&(null===this.va&&(this.va=new hg),this.va.add(c,a.fa()))},this)};
H.rk=function(){if(null===this.va)return!1;for(var a=!1,b=!0,c=0;c<this.Cb.h[C];c++){var d=this.va.C(this.Cb.h[c].ga[t]());if(a&&d){b=!1;break}d||(a=!0)}return b};H.Vh=function(a){a=this.gg().Ld(a);var b=this.J.get(this.Cb.l());return a[Ka](function(a,d){return a+b.Dd(d)},0)};
function Ah(a,b,c,d){U[q](this,0,-1);this.J=a.o(Jd);this.index=b;this.Dg=c;this.kf=d;this.td=this.sd=!1}K(Ah,U);f(Ah[r],function(){return"index_range_scan("+this[mb].l()+", ?, "+(this.kf?"reverse":"natural")+(this.sd?", limit:?":"")+(this.td?", skip:?":"")+")"});Ah[r].pd=function(a){var b=this[D](),c=this.Dg.Ld(a),b=b[eb]("?",c[D]());this.sd&&(b=b[eb]("?",a.ba[D]()));this.td&&(b=b[eb]("?",a.V[D]()));return b};
Ah[r].na=function(a,b,c){a=this.Dg.Ld(c);b=this.J.get(this[mb].l());c=(1==a[C]&&a[0]instanceof ie&&a[0].xg()?pf(b.get(a[0].c),!1,this.sd?c.ba:void 0,this.td?c.V:void 0):b.pb(a,this.kf,this.sd?c.ba:void 0,this.td?c.V:void 0)).map(function(a){return new hd(a,{})},this);return[se(c,[this[mb].rf])]};
function Bh(a){U[q](this,1,1);this.be=a}K(Bh,U);f(Bh[r],Kb("select(?)"));Bh[r].pd=function(a){a=a.Od(this.be);return this[D]()[eb]("?",a[D]())};Bh[r].na=function(a,b,c){return[c.Od(this.be).eval(b[0])]};
function Ch(a,b){U[q](this,1,1);this.ua=a.o(Id);this.O=b}K(Ch,U);f(Ch[r],function(){return"table_access_by_row_id("+this.O[t]()+")"});Ch[r].na=function(a,b){return[se(this.ua.get(b[0].Rj()),[this.O.qa()])]};
function Dh(a,b){U[q](this,0,-1);this.ua=a.o(Id);this.J=a.o(Jd);ia(this,b)}K(Dh,U);f(Dh[r],function(){var a="table_access("+this[h][t]();null===this[h].cb()||(a+=" as "+this[h].cb());return a+")"});Dh[r].na=function(){var a=this.J.get(this[h].Vb()).pb();return[se(this.ua.get(a),[this[h].qa()])]};
function Eh(a){this.m=a}K(Eh,Mg);Eh[r].Mb=function(a,b){this.la=a;Uf(a,function(a){return a instanceof Dh})[F](function(a){var d=this.ij(a);if(0!=d[C]){var g=(new yh(this.m,a[h])).pi(b,d.map(function(a){return b.Od(a.be)}));if(null!==g){var k=new N;d[F](function(a){k.set(a.be,a)},this);this.la=this.al(g,k,a,b)}}},this);return this.la};Eh[r].ij=function(a){var b=[];for(a=a[Bb]();a;)a instanceof Bh&&b[x](a),a=a[Bb]();return b};
Eh[r].al=function(a,b,c){a.Mj().map(function(a){return b.get(a)})[F](Vf);a=new Ah(this.m,a.Cb,a.gg(),!1);var d=new Ch(this.m,c[h]);d.ma(a);Zf(c,c,d,a);return a.qb()};
function Fh(a,b){U[q](this,0,-1);this.J=a.o(Jd);this.O=b}K(Fh,U);f(Fh[r],function(){return"insert("+this.O[t]()+")"});Fh[r].na=function(a,b,c){Gh(this.O,c[db],this.J);a.Db(this.O,c[db]);return[se(c[db],[this.O[t]()])]};function Gh(a,b,c){a=a.Jb().Pd();if(null===a?0:a.h[0][ob]){var d=a.h[0].ga[t]();c=c.get(a.l()).max();var g=null===c?0:c[0];b[F](function(a){if(0==a.w()[d]||null==a.w()[d])g++,a.w()[d]=g})}}function Hh(a,b){U[q](this,0,-1);this.J=a.o(Jd);this.O=b}K(Hh,U);
f(Hh[r],function(){return"insert_replace("+this.O[t]()+")"});Hh[r].na=function(a,b,c){Gh(this.O,c[db],this.J);a.Pe(this.O,c[db]);return[se(c[db],[this.O[t]()])]};
function Ih(a,b){U[q](this,2,0);this.Wg=a;this.zg=b}K(Ih,U);f(Ih[r],function(){return(this.zg?"left_outer_join":"join")+"("+this.Wg[D]()+")"});Ih[r].na=function(a,b){return[this.Wg.Oi(b[0],b[1],this.zg)]};
function Jh(){U[q](this,1,1)}K(Jh,U);f(Jh[r],Kb("limit(?)"));Jh[r].pd=function(a){return this[D]()[eb]("?",a.ba[D]())};Jh[r].na=function(a,b,c){b[0][B][A](c.ba);return b};
function Kh(a){U[q](this,-1,1);this.N=a}K(Kh,U);H=Kh[r];f(H,function(){return"order_by("+Le(this.N)+")"});H.na=function(a,b){if(1==b[C]){var c=this.ej(b[0]);(null===c?b[0]:b[0].wc(c))[B][Za](this.Li[E](this))}else b[Za](this.Xk[E](this));return b};H.ej=function(a){for(var b=null,c=0;c<this.N[C];c++){var d=ng(this.N[c].K);if(a.ck(d)){b=d;break}}return b};
H.X=function(a,b){var c=null,d=null,g=null,k=-1;do k++,g=this.N[k].K,c=this.N[k].tb,d=a(g),g=b(g);while(d==g&&k+1<this.N[C]);d=d<g?-1:d>g?1:0;return 1==c?d:-d};H.Xk=function(a,b){return this.X(function(b){return b instanceof T?a.wc(b):a[B][a[B][C]-1].S(b)},function(a){return a instanceof T?b.wc(a):b[B][b[B][C]-1].S(a)})};H.Li=function(a,b){return this.X(function(b){return a.S(b)},function(a){return b.S(a)})};
function Lh(a,b){this.Ja=a;this.H=b}Lh[r].lg=function(){return this.H[ab](function(a){return a instanceof T},this)?this.ak():this.bk()};
Lh[r].ak=function(){if(1==this.H[C]&&"DISTINCT"==this.H[0].lc){var a=this.Ja.wc(this.H[0])[B].map(function(a){var b=new te(new hd(-1,{}),this.Ja.Se());b.nf(this.H[0],a.S(this.H[0][jb]));return b},this);return new me(a,[])}var b=new te(new hd(-1,{}),this.Ja.Se());this.H[F](function(a){var d=a instanceof T?this.Ja.wc(a):this.Ja[B][0].S(a);b.nf(a,d)},this);return new me([b],this.Ja.Y())};
Lh[r].bk=function(){var a=e(this.Ja[B][C]),b=this.Ja.Se();this.Ja[B][F](function(c,d){a[d]=new te(new hd(c.wa.id(),{}),b);this.H[F](function(b){a[d].nf(b,c.S(b))},this)},this);return new me(a,this.Ja.Y())};function Mh(a,b){var c=a.map(function(a){return(new Lh(a,b)).lg()[B][0]});return new me(c,a[0].Y())};
function Nh(a,b){U[q](this,-1,1);this.h=a;this.Wb=b}K(Nh,U);H=Nh[r];f(H,function(){var a="project("+this.h[D]();if(null!==this.Wb)var b=this.Wb.map(function(a){return a.l()})[La](", "),a=a+(", groupBy("+b+")");return a+")"});H.na=function(a,b){return 0==b[C]?[pe()]:1==b[C]?[this.Wi(b[0])]:[this.Ui(b)]};H.dk=function(){return this.h[ab](function(a){return a instanceof T})||null!==this.Wb};H.Ui=function(a){return Mh(a,this.h)};H.Wi=function(a){return 0==this.h[C]?a:(new Lh(a,this.h)).lg()};
function Oh(){U[q](this,1,1)}K(Oh,U);f(Oh[r],Kb("skip(?)"));Oh[r].pd=function(a){return this[D]()[eb]("?",a.V[D]())};Oh[r].na=function(a,b,c){return[new me(b[0][B][m](c.V),b[0].Y())]};
function Ph(){}K(Ph,Mg);Ph[r].Mb=function(a){var b=Uf(a,function(a){return a instanceof Jh||a instanceof Oh});if(0==b[C])return a;var c=this.hj(a);if(null===c)return a;b[F](function(a){this.Ak(a,c)},this);return c.qb()};Ph[r].Ak=function(a,b){a instanceof Jh?b.sd=!0:b.td=!0;return Vf(a).parent};Ph[r].hj=function(a){a=Uf(a,function(a){return a instanceof Ah},function(a){return a instanceof Nh&&a.dk()||a instanceof Kh||1!=a.xa()||a instanceof Bh});return 0<a[C]?a[0]:null};
function Qh(a){this.m=a}K(Qh,Mg);Qh[r].Mb=function(a){var b=Rh(a);if(null===b)return a;a=this.Kh(b);a==b&&(a=this.Jh(b));return a.qb()};Qh[r].Kh=function(a){var b=a,c=Sh(a.zb(0));if(null!==c){var d;d=a.N;for(var g=null,k=c[h].za(),l=0;l<k[C]&&null===g;l++)g=Th(k[l],d);d=g;if(null===d)return b;b=new Ah(this.m,d.Cb,new wh(d.Cb),d.Ag);d=new Ch(this.m,c[h]);d.ma(b);Vf(a);b=Zf(c,c,d,b)}return b};
Qh[r].Jh=function(a){var b=a,c=Uh(a.zb(0));if(null!==c){var d=Th(c[mb],a.N);if(null===d)return b;c.kf=d.Ag;b=Vf(a).parent}return b};function Uh(a){a=Uf(a,function(a){return a instanceof Ah},function(a){return 1!=a.xa()});return 0<a[C]?a[0]:null}function Sh(a){a=Uf(a,function(a){return a instanceof Dh},function(a){return 1!=a.xa()});return 0<a[C]?a[0]:null}function Rh(a){a=Uf(a,function(a){return a instanceof Kh});return 0<a[C]?a[0]:null}
function Th(a,b){if(a.h[C]!=b[C]||!b[Ua](function(b,c){return b.K[t]()==a.h[c].ga[t]()}))return null;var c=Vh(b,a);return c[0]||c[1]?{Cb:a,Ag:c[1]}:null}function Vh(a,b){var c=a[Ka](function(a,b){return a<<1|(0==b.tb?0:1)},0),d=b.h[Ka](function(a,b){return a<<1|(0==b.tb?0:1)},0),d=c^d,c=0==d,d=d==ba.pow(2,ba.max(a[C],b.h[C]))-1;return[c,d]};
function Wh(a,b,c){this.Fa=a;this.ff=b;this.lf=c}Wh[r].vc=function(){this.lf[F](function(a){this.Fa=a.Mb(this.Fa,this.ff)},this);return this.Fa};
function Xh(a,b){U[q](this,1,1);this.O=a;this.zl=b}K(Xh,U);f(Xh[r],function(){return"update("+this.O[t]()+")"});Xh[r].na=function(a,b){var c=b[0][B].map(function(a){var b=this.O.sc(a.wa.Ka());this.zl[F](function(a){b.w()[a.K[t]()]=a[u]},this);return b},this);a[Va](this.O,c);return[pe()]};
function Yh(a){this.m=a}Yh[r].create=function(a,b){var c=a.qb();if(c instanceof zg||c instanceof yg)return this.Be(a,b);if(c instanceof Fg||c instanceof Jg||c instanceof Kg)return this.Be(a,b,[new Eh(this.m),new Qh(this.m),new Ph]);if(c instanceof Ag||c instanceof Bg)return this.Be(a,b,[new Eh(this.m)]);throw new P(8);};Yh[r].Be=function(a,b,c){var d=Sf(a.qb(),J(this.wk,this));null!=c&&(d=(new Wh(d,b,c)).vc());return new Me(d,a.ha())};
Yh[r].wk=function(a){if(a instanceof Fg)return new Nh(a.h,a.Wb);if(a instanceof Ig)return new uh(a.h);if(a instanceof Hg)return new og(a.h);if(a instanceof Gg)return new Kh(a.N);if(a instanceof Kg)return new Oh;if(a instanceof Jg)return new Jh;if(a instanceof Cg)return new Bh(a.Da.fa());if(a instanceof Eg)return new Pg;if(a instanceof Lg)return new Ih(a.Da,a.yg);if(a instanceof Dg)return new Dh(this.m,a[h]);if(a instanceof Ag)return new th(a[h]);if(a instanceof Bg)return new Xh(a[h],a.wf);if(a instanceof
zg)return new Hh(this.m,a[h]);if(a instanceof yg)return new Fh(this.m,a[h]);throw new P(514);};

function Zh(a){this.uk=new sh;this.Lk=new Yh(a)}Zh[r].Lj=function(a){var b=this.uk[kb](a);return this.Lk[kb](b,a)};
function $h(){this.Jg=new N}H=$h[r];H.Kd=function(a){var b=this.Jg.get(a[t](),null);null===b&&(b=new ai,this.Jg.set(a[t](),b));return b};H.Yj=function(a,b,c){b[F](function(b){this.Kd(b).Xj(a,c)},this)};H.Zh=function(a,b,c){return b[Ua](function(b){return this.Kd(b).Yh(a,c)},this)};H.$g=function(a,b,c){var d=this.Zh(a,b,c);d&&this.Yj(a,b,c);return d};H.releaseLock=function(a,b){b[F](function(b){this.Kd(b).releaseLock(a)},this)};H.ri=function(a){a[F](function(a){this.Kd(a).hb=null},this)};
function ai(){this.ic=this.Ya=this.hb=this.Rc=null}ai[r].releaseLock=function(a){this.Rc==a&&(this.Rc=null);this.hb==a&&(this.hb=null);null===this.Ya||this.Ya[w](a);null===this.ic||this.ic[w](a)};ai[r].Yh=function(a,b){var c=null===this.Ya||this.Ya.Wa();return 0==b?(null===this.ic||this.ic.Wa())&&c&&null===this.Rc&&null!==this.hb&&this.hb==a:3==b?null===this.Rc&&null===this.hb&&null!==this.Ya&&this.Ya[tb](a):1==b?null===this.hb:c&&(null===this.hb||this.hb==a)};
ai[r].Xj=function(a,b){0==b?(this.hb=null,this.Rc=a):3==b?(null===this.ic&&(this.ic=new O),this.ic.add(a),null===this.Ya&&(this.Ya=new O),this.Ya[w](a)):1==b?(null===this.Ya&&(this.Ya=new O),this.Ya.add(a)):2==b&&(this.hb=a)};
function bi(){this.ec=new ci;this.ed=new $h}H=bi[r];H.gc=function(a){(2>a[Db]()||2>a[Db]())&&this.ed.ri(a.ha().f());this.ec.Db(a);this.Ae();return a.Zc().ka};H.Ae=function(){for(var a=this.ec.f(),b=0;b<a[C];b++){var c=a[b],d=!1;if(d=0==c.Z()?this.ah(c,1,3):this.ah(c,2,0))this.ec[w](c),this.Xi(c)}};H.ah=function(a,b,c){var d=!1,g=a.ha().f();this.ed.$g(a.fa(),g,b)&&(d=this.ed.$g(a.fa(),g,c));return d};H.Xi=function(a){a[Qa]()[z](J(this.Hk,this,a),J(this.Gk,this,a))};
H.Hk=function(a,b){this.ed.releaseLock(a.fa(),a.ha().f());a.Zc()[Fb](b);this.Ae()};H.Gk=function(a,b){this.ed.releaseLock(a.fa(),a.ha().f());a.Zc()[Ma](b);this.Ae()};function ci(){this.ec=[]}ci[r].Db=function(a){wc(this.ec,a,function(a,c){var d=a[Db]()-c[Db]();return 0==d?a.fa()-c.fa():d})};ci[r].f=function(){return this.ec[m]()};va(ci[r],function(a){var b=this.ec;a=ic(b,a);var c;(c=0<=a)&&oc(b,a);return c});

function di(a,b){this.Ni=xe.He();this.gf=a;this.Yd=b;this.H=this.Gi()}di[r].Gi=function(){if(0<this.gf.h[C])return this.gf.h;var a=[];this.gf.c[F](function(b){b.ob()[F](function(b){a[x](b)})});return a};di[r].X=function(a,b){return this.H[Ua](function(c){return this.Ni.Fe(c.Z(),"eq")(a.S(c),b.S(c))},this)};
di[r].Ih=function(a,b){for(var c=null===a?[]:a[B],d=qd(c,b[B],J(this.X,this),function(a){return c[a]}),g=[],k=0,l=0;l<c[C];l++){var p=c[l];d[k]==p?k++:(p=this.Yd[A](k,1),p=ei(l,p,0,this.Yd),g[x](p))}d=qd(c,b[B],J(this.X,this),function(a,c){return b[B][c]});for(l=k=0;l<b[B][C];l++)p=b[B][l],d[k]==p?k++:(this.Yd[A](l,0,p.wa.w()),p=ei(l,[],1,this.Yd),g[x](p));return g};function ei(a,b,c,d){return{Al:c,index:a,object:d,Cl:b,type:"splice"}};
function fi(){this.uc=new N}H=fi[r];H.Ke=function(a){return Vb(a)[D]()};H.me=function(a,b){var c=this.Ke(a.Nd()),d=this.uc.get(c,null);null===d&&(d=new gi(a),this.uc.set(c,d));d.me(b)};H.jf=function(a,b){var c=this.Ke(a.Nd()),d=this.uc.get(c,null);L(null!=d,"Attempted to unobserve a query that was not observed.");var g=d.jf(b);L(g,"removeObserver: Inconsistent state detected.");d.fk()||this.uc[w](c)};
H.Me=function(a){var b=new O;a[F](function(a){b.add(a[t]())});var c=[];this.uc.f()[F](function(a){a=a.ad();a[nb].c[ab](function(a){return b[tb](a[t]())})&&c[x](a)});return c};H.uh=function(a,b){var c=this.Ke(null!=a.Kc?a.Kc:a),c=this.uc.get(c,null);return null!==c?(c.yl(b),!0):!1};function gi(a){this.Th=a;this.jd=new O;this.Ek=[];this.Gg=null;this.Ji=new di(a.Nd(),this.Ek)}H=gi[r];H.me=function(a){this.jd[tb](a)?ec("Attempted to register observer twice."):this.jd.add(a)};H.jf=function(a){return this.jd[w](a)};
H.ad=function(){return this.Th.Hj()};H.fk=function(){return 0<this.jd.ya()};H.yl=function(a){var b=this.Ji.Ih(this.Gg,a);this.Gg=a;0<b[C]&&this.jd.f()[F](function(a){a(b)})};
function hi(a,b){var c=a.o(Nd),d=b||{},g=new of;a.ub(Id,g);var g=null,k=!1;switch(d.storeType||0){case 1:g=new cf(c);break;case 5:g=new df(c);break;case 4:g=new jf(a,c,d.webSqlDbSize);break;case 3:g=new Xe(c,d.firebase);k=!0;break;default:g=new af(a,c)}a.ub(Hd,g);var l=new Of;a.ub(Jd,l);return g.Ha(d.onUpgrade)[z](function(){a.ub(Kd,new Zh(a));var b=new bi;a.ub(Ld,b);b=new fi;a.ub(Md,b);return l.Ha(c)})[z](function(){k&&(new Re(a)).ml();return(new Nf(a)).Ha(c)})};

function ii(a,b){this.m=a;this.Hb=a.o(Hd);this.$a=a.o(Ld);this.Kb=a.o(Md);this.ta=new O(b);this.Xa=new he(this.m,this.ta.f());this.fc=bd();this.Sc=bd();this.yf=bd()}H=ii[r];ma(H,function(){this.yf[Fb]();return this.Sc.ka});H.Z=Kb(1);H.ha=G("ta");H.Zc=G("fc");H.fa=function(){return Vb(this)};Ea(H,Kb(2));H.yh=function(){this.$a.gc(this);return this.yf.ka};
H.Qh=function(a){a=a.ad();return a.df.qb()[Qa](this.Xa,a[nb])[z](function(a){return a[0].Ie()},J(function(a){this.Xa.Nb();var c=new Tc(a[n]);this.Sc[Ma](c);throw a;},this))};H.pa=function(){this.Hb.Tb(this.Z(),this.Xa).pa()[z](J(function(){this.md();this.Sc[Fb]()},this),J(function(a){this.Xa.Nb();this.Sc[Ma](a)},this));return this.fc.ka};H.Nb=function(){this.Xa.Nb();this.Sc[Fb]();return this.fc.ka};H.md=function(){var a=this.Kb.Me(this.ta.f());0!=a[C]&&(a=new Pe(this.m,a),this.$a.gc(a))};
function ji(a){this.m=a;this.$a=a.o(Ld);this.qd=null;this.La=0}I("lf.proc.Transaction",ji,void 0);var ki=new N(0,new O([1,4]),1,new O([2]),2,new O([3,5,6]),3,new O([2,7]),4,new O([7]),5,new O([7]),6,new O([7]));ji[r].Ra=function(a){var b=ki.get(this.La,null);if(null===b||!b[tb](a))throw new P(107,this.La,a);this.La=a};
ma(ji[r],function(a){this.Ra(4);var b=[];try{a[F](function(a){a.mb();b[x](a.ad())},this)}catch(c){return this.Ra(7),Yc(c)}a=new Qg(this.m,b);return this.$a.gc(a)[z](J(function(a){this.Ra(7);return a.map(function(a){return a.Ie()})},this),J(function(a){this.Ra(7);throw a;},this))});ma(ji[r],ji[r][Qa]);ji[r].Rh=function(a){this.Ra(1);this.qd=new ii(this.m,a);return this.qd.yh()[z](J(function(){this.Ra(2)},this))};ji[r].begin=ji[r].Rh;
ji[r].Ph=function(a){this.Ra(3);return this.qd.Qh(a)[z](J(function(a){this.Ra(2);return a},this),J(function(a){this.Ra(7);throw a;},this))};ji[r].attach=ji[r].Ph;ji[r].pa=function(){this.Ra(5);return this.qd.pa()[z](J(function(){this.Ra(7)},this))};ji[r].commit=ji[r].pa;ji[r].Nb=function(){this.Ra(6);return this.qd.Nb()[z](J(function(){this.Ra(7)},this))};ji[r].rollback=ji[r].Nb;
function X(a){this.m=a;this.s=a.o(Nd);this.Oe=!1}I("lf.proc.Database",X,void 0);X[r].Ha=function(a){this.m.ub(Nd,this.s);return hi(this.m,a)[z](J(function(){this.Oe=!0;return this},this))};X[r].init=X[r].Ha;X[r].Bb=G("s");X[r].getSchema=X[r].Bb;X[r].qc=function(){if(!this.Oe)throw new P(2);};X[r].select=function(a){this.qc();return new W(this.m,1!=arguments[C]||null!=arguments[0]?e[r][m][q](arguments):[])};X[r].select=X[r].select;X[r].Db=function(){this.qc();return new fh(this.m)};X[r].insert=X[r].Db;
X[r].Pe=function(){this.qc();return new fh(this.m,!0)};X[r].insertOrReplace=X[r].Pe;qa(X[r],function(a){this.qc();return new jh(this.m,a)});qa(X[r],X[r][Va]);ra(X[r],function(){this.qc();return new eh(this.m)});X[r]["delete"]=X[r][Ya];X[r].observe=function(a,b){this.m.o(Md).me(a,b)};X[r].observe=X[r].observe;X[r].unobserve=function(a,b){this.m.o(Md).jf(a,b)};X[r].unobserve=X[r].unobserve;X[r].Ei=function(){this.qc();return new ji(this.m)};X[r].createTransaction=X[r].Ei;
oa(X[r],function(){try{this.m.o(Hd)[Ra]()}catch(a){}this.m[v]();this.Oe=!1});oa(X[r],X[r][Ra]);
function Y(a,b,c,d,g,k){this.O=a;this.A=b;this.Cg=c;this.wg=d;this.th=g;this.lb=k||null}I("lf.schema.BaseColumn",Y,void 0);H=Y[r];na(H,G("A"));H.l=function(){return this.O.qa()+"."+this.A};f(H,function(){return this.l()});H.M=G("O");H.Z=G("th");Y[r].getType=Y[r].Z;Y[r].cb=G("lb");Y[r].za=function(){null==this.ia&&(this.ia=[],this.M().za()[F](function(a){-1!=a.h.map(function(a){return a.ga[t]()})[$a](this.A)&&this.ia[x](a)},this));return this.ia};Y[r].Yb=G("wg");Y[r].isNullable=Y[r].Yb;Y[r].dd=G("Cg");
Y[r].Va=function(a){return jg(this,a,"eq")};Y[r].eq=Y[r].Va;Y[r].Kg=function(a){return jg(this,a,"neq")};Y[r].neq=Y[r].Kg;Y[r].We=function(a){return jg(this,a,"lt")};Y[r].lt=Y[r].We;Y[r].vk=function(a){return jg(this,a,"lte")};Y[r].lte=Y[r].vk;Y[r].Zj=function(a){return jg(this,a,"gt")};Y[r].gt=Y[r].Zj;Y[r].$j=function(a){return jg(this,a,"gte")};Y[r].gte=Y[r].$j;Y[r].match=function(a){return jg(this,a,"match")};Y[r].match=Y[r].match;Y[r].Sh=function(a,b){return jg(this,[a,b],"between")};
Y[r].between=Y[r].Sh;Y[r].gk=function(a){return jg(this,a,"in")};Y[r]["in"]=Y[r].gk;Y[r].pk=function(){return this.Va(null)};Y[r].isNull=Y[r].pk;Y[r].nk=function(){return this.Kg(null)};Y[r].isNotNull=Y[r].nk;Y[r].Gc=function(a){return new Y(this.O,this.A,this.Cg,this.wg,this.th,a)};Y[r].as=Y[r].Gc;
function li(){this.he=new N}var mi;ta(li[r],function(){this.he[v]()});ta(li[r],li[r][v]);li[r].ub=function(a,b){this.he.set(a[D](),b);return b};li[r].registerService=li[r].ub;li[r].o=function(a){var b=this.he.get(a[D](),null);if(null==b)throw new P(7,a[D]());return b};li[r].getService=li[r].o;li[r].Ue=function(a){return this.he.C(a[D]())};li[r].isRegistered=li[r].Ue;
function ni(a){this.s=a;this.hf=new Dd;this.Rg=new Dd;this.Qf=new Dd;this.i=new Dd;this.xe=new Dd;this.jk()}H=ni[r];H.jk=function(){this.s.ab()[F](function(a){var b=new mf;a.Jb().Ge()[F](function(c){var d=this.hf.get(c.fb)||[];d[x](c);this.hf.set(c.fb,d);b.add(this.s[h](c.fb));(d=this.i.get(c.fb))||(d=new mf);d.add(a);this.i.set(c.fb,d);this.Qf.set(a[t]()+"."+c.Rb,c.fb);c=c.fb+"."+c.Ac;d=this.xe.get(c)||[];d[x](a[t]());this.xe.set(c,d)},this);0!=b[Hb]&&this.Rg.set(a[t](),b)},this)};
H.Oj=function(a){return this.hf.get(a)||null};H.Zf=function(a,b){var c=b.get(a);return c?nf(c):[]};H.Jj=function(a){return this.Zf(a,this.Rg)};H.Kj=function(a){var b=new mf;a[F](function(a){(a=this.Qf.get(a))&&b.add(a)},this);return nf(b).map(function(a){return this.s[h](a)},this)};H.bg=function(a){return this.Zf(a,this.i)};H.zj=function(a){var b=new mf;a[F](function(a){(a=this.xe.get(a))&&a[F](function(a){b.add(a)})},this);return nf(b).map(function(a){return this.s[h](a)},this)};
function oi(a,b,c){this.Ok=a;this.Ck=b;this.jj=c}I("lf.schema.Constraint",oi,void 0);oi[r].Pd=G("Ok");oi[r].getPrimaryKey=oi[r].Pd;oi[r].Gj=G("Ck");oi[r].Ge=G("jj");oi[r].getForeignKeys=oi[r].Ge;
function pi(a,b){var c=a.ref[Ja](".");if(2!=c[C])throw new P(540,b);this.Rb=a.local;this.fb=c[0];this.Ac=c[1];ja(this,b);this.action=a.action;this.timing=a[Na]};
function Z(a){this.rc(a);this.A=a;this.H=new Dd;this.uf=new mf;this.rd=new mf;this.hd=new mf;this.Ca=null;this.ia=new Dd;this.ae=!1;this.Hd=[]}I("lf.schema.TableBuilder",Z,void 0);function qi(a){ja(this,a[n]);this.tb=a.order;this.autoIncrement=a[ob]}var ri=new mf([0,6]);H=Z[r];H.rc=function(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new P(502,a);};H.Ic=function(a){if(a==this.A)throw new P(546,a);if(this.H.has(a)||this.ia.has(a)||this.rd.has(a))throw new P(503,this.A+"."+a);};
H.ki=function(a){var b=!1;a[F](function(a){var d=this.H.get(a[n]);b=b||a[ob];if(a[ob]&&3!=d)throw new P(504);},this);if(b&&1<a[C])throw new P(505);};H.ii=function(){if(null!==this.Ca){var a=this.ia.get(this.Ca).map(function(a){return a[n]}),b=0;if(this.Hd[ab](function(c,d){b=d;return-1!=a[$a](c.Rb)},this))throw new P(543,this.Hd[b][n]);}};
H.hi=function(){if(null!==this.Ca){var a=function(a){return a[n]},b=ga[yb](this.ia.get(this.Ca).map(a));this.ia[F](function(c,d){if(d!=this.Ca){var g=c.map(a);if(ga[yb](g)==b)throw new P(544,this.A+"."+d);}},this)}};H.ji=function(){null===this.Ca||this.ia.get(this.Ca)[F](function(a){if(this.hd.has(a[n]))throw new P(545,this.A+"."+a[n]);},this)};H.Ah=function(a,b){this.rc(a);this.Ic(a);this.H.set(a,b);ri.has(b)&&this.Cf([a]);return this};Z[r].addColumn=Z[r].Ah;
Z[r].Ch=function(a,b){var c=this.A;this.Ca="pk"+(c[0].toUpperCase()+c.substring(1));this.rc(this.Ca);this.Ic(this.Ca);c=this.Xd(a,!0,void 0,b);this.ki(c);1==c[C]&&this.uf.add(c[0][n]);this.rd.add(this.Ca);this.ia.set(this.Ca,c);return this};Z[r].addPrimaryKey=Z[r].Ch;
Z[r].Bh=function(a,b){this.rc(a);this.Ic(a);var c=new pi(b,this.A+"."+a);Mb(c.action)||(c.action=0);Mb(c[Na])||(c.timing=0);if(1==c.action&&1==c[Na])throw new P(506);if(!this.H.has(c.Rb))throw new P(540,a);this.Hd[x](c);this.Bf(a,[c.Rb],!1);return this};Z[r].addForeignKey=Z[r].Bh;Z[r].Dh=function(a,b){this.rc(a);this.Ic(a);var c=this.Xd(b,!0);this.Nf(a,c);1==c[C]&&this.uf.add(c[0][n]);this.ia.set(a,c);this.rd.add(a);return this};Z[r].addUnique=Z[r].Dh;
Z[r].Cf=function(a){a=this.Xd(a,!1);this.gi(a);a[F](function(a){this.hd.add(a[n])},this);return this};Z[r].addNullable=Z[r].Cf;Z[r].gi=function(a){Ed(this.ia)[F](function(b){var c=new mf;this.ia.get(b)[F](function(a){c.add(a[n])});var d=a[Ga](function(a){return c.has(a[n])});if(1<c[Hb]&&0<d[C])throw new P(507,b,d[La](","));},this)};Z[r].Bf=function(a,b,c,d){this.rc(a);this.Ic(a);b=this.Xd(b,!0,d);this.Nf(a,b);c&&this.rd.add(a);this.ia.set(a,b);return this};Z[r].addIndex=Z[r].Bf;
Z[r].Nf=function(a,b){if(1<b[C]){var c=b[Ga](function(a){return this.hd.has(a[n])},this);if(0<c[C])throw new P(507,a,c[La](","));}};Z[r].Lb=Jb("ae");Z[r].persistentIndex=Z[r].Lb;Z[r].Bb=function(){this.ii();this.hi();this.ji();return new (this.xj())};Z[r].getSchema=Z[r].Bb;Z[r].Xc=G("Hd");
Z[r].Xd=function(a,b,c,d){var g=a,g="string"==typeof a[0]?a.map(function(a){return new qi({name:a,order:null!=c?c:1,autoIncrement:d||!1})}):a.map(function(a){return new qi(a)});g[F](function(a){if(!this.H.has(a[n]))throw new P(508,this.A,a[n]);if(b){var c=this.H.get(a[n]);if(0==c||6==c)throw new P(509,this.A,a[n]);}},this);return g};
Z[r].xj=function(){function a(){function a(c){return b.ia.get(c).map(function(a){return{ga:this[a[n]],tb:a.tb,autoIncrement:a[ob]}},this)}var d=Ed(b.H).map(function(a){this[a]=new Y(this,a,b.uf.has(a),b.hd.has(a),b.H.get(a));return this[a]},this),g=Ed(b.ia).map(function(d){return new lg(b.A,d,b.rd.has(d),a[q](this,d))},this);S[q](this,b.A,d,g,b.ae);var k=null===b.Ca?null:new lg(b.A,b.Ca,!0,a[q](this,b.Ca)),l=d[Ga](function(a){return!b.hd.has(a[t]())});this.vi=new oi(k,l,b.Xc());this.eh=b.tj(d,g)}
var b=this;K(a,S);a[r].Ib=function(a){return new this.eh(id++,a)};a[r].createRow=a[r].Ib;a[r].sc=function(a){var b={};this.ob()[F](function(g){var k=g[t]();g=g.Z();var l=a[u][k];if(0==g)if(g=l,null!=g&&""!=g){0!=g[C]%2&&(g="0"+g);for(var l=new ArrayBuffer(g[C]/2),p=new Uint8Array(l),y=0,wa=0;y<g[C];y+=2)p[wa++]=da(g.substr(y,2),16);g=l}else g=null;else g=2==g?null!=l?new Date(l):null:l;b[k]=g},this);return new this.eh(a.id,b)};a[r].deserializeRow=a[r].sc;a[r].Jb=G("vi");a[r].getConstraint=a[r].Jb;
return a};
Z[r].tj=function(a,b){function c(c,d){this.H=a;this.ia=b;hd[q](this,c,d)}K(c,hd);c[r].Vf=function(){var a={};this.H[F](function(b){a[b[t]()]=b.Yb()?null:de[b.Z()]});return a};c[r].qh=function(){var a={};this.H[F](function(b){var c=b[t]();b=b.Z();var d=this.w()[c];a[c]=0==b?null!=d?ld(d):null:2==b?null!=d?d[Eb]():null:6==b?null!=d?d:null:d},this);return a};var d=J(function(a){var b=this.H.get(a[t]());return 2==b?function(b){b=b[a[t]()];return a.Yb()&&null===b?null:b[Eb]()}:1==b?function(b){return a.Yb()?(b=
b[a[t]()],null===b?null:b?1:0):b[a[t]()]?1:0}:function(b){return b[a[t]()]}},this),g=J(function(a){var b=a.map(function(a){return d(a.ga)});return function(a){return b.map(function(b){return b(a)})}},this),k={};b[F](function(a){var b=a.l();a=1==a.h[C]?d(a.h[0].ga):g(a.h);k[b]=a});c[r].Zb=function(a){return-1!=a[$a]("#")?this.id():k[sb](a)?k[a](this.w()):null};return c};
function si(a,b){this.s=new ti(a,b);this.wb=new N;this.Tc=!1}I("lf.schema.Builder",si,void 0);H=si[r];H.ei=function(a){a.Xc()[F](function(b){var c=b.fb;if(!this.wb.C(c))throw new P(536,b[n]);var c=this.wb.get(c).Bb(),d=b.Ac;if(!c[sb](d))throw new P(537,b[n]);if(a.Bb()[b.Rb].Z()!=c[d].Z())throw new P(538,b[n]);if(!c[d].dd())throw new P(539,b[n]);},this)};H.di=function(a){a.Xc()[F](function(a){this.wb.get(a.fb).Xc()[F](function(c){if(c.Rb==a.Ac)throw new P(534,a[n]);},this)},this)};
H.dj=function(){this.Tc||(this.wb.f()[F](function(a){this.ei(a);this.s.gl(a.Bb())},this),this.wb.f()[F](this.di,this),this.ci(),this.wb[v](),this.Tc=!0)};H.Lf=function(a,b){a.xf||(a.xf=!0,a.$e=!0,a.Yf[F](function(c){c=b.get(c);if(!c.xf)this.Lf(c,b);else if(c.$e&&a!=c)throw new P(533);},this));a.$e=!1};H.ci=function(){var a=new Dd;this.s.I.U()[F](function(b){a.set(b,new ui(b))},this);this.wb[F](function(b,c){b.Xc()[F](function(b){a.get(b.fb).Yf.add(c)})});Fd(a)[F](function(b){this.Lf(b,a)},this)};
function ui(a){this.$e=this.xf=!1;this.Yf=new mf;this.rf=a}H.Bb=function(){this.Tc||this.dj();return this.s};si[r].getSchema=si[r].Bb;si[r].fg=function(){var a=new Gd("ns_"+this.s[n]()),b;mi||(mi=new li);b=mi;var c=null;b.Ue(a)?c=b.o(a):(c=new li,b.ub(a,c));return c};si[r].getGlobal=si[r].fg;si[r].connect=function(a){var b=this.fg();b.Ue(Nd)||b.ub(Nd,this.Bb());return(new X(b)).Ha(a)};si[r].connect=si[r].connect;
si[r].Ci=function(a){if(this.wb.C(a))throw new P(503,a);if(this.Tc)throw new P(535);this.wb.set(a,new Z(a));return this.wb.get(a)};si[r].createTable=si[r].Ci;si[r].pf=function(a){if(this.Tc)throw new P(535);this.s.pf(a);return this};si[r].setPragma=si[r].pf;function ti(a,b){this.A=a;this.Ta=b;this.I=new N;this.Vg={Ki:!1}}I("lf.schema.DatabaseSchema",ti,void 0);ja(ti[r],G("A"));ja(ti[r],ti[r][n]);ti[r].version=G("Ta");ti[r].version=ti[r][ub];ti[r].ab=function(){return this.I.f()};ti[r].tables=ti[r].ab;
ia(ti[r],function(a){if(!this.I.C(a))throw new P(101,a);return this.I.get(a)});ia(ti[r],ti[r][h]);ti[r].info=function(){this.qg||(this.qg=new ni(this));return this.qg};ti[r].gl=function(a){this.I.set(a[t](),a)};ti[r].Ug=G("Vg");ti[r].pragma=ti[r].Ug;ti[r].pf=Jb("Vg");I("lf.schema.create",function(a,b){return new si(a,b)},void 0);}.bind(window))()
